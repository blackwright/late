(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{51:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n.n(r),i=(n(52),{data:new Uint8Array,lowPassData:new Uint8Array,options:{}});function o(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=t.data,o=t.lowPassData,s=t.options,c=Object(r.useRef)([]),u=Object(r.useRef)([]),l=Object(r.useRef)(Date.now()),d=0,w=0,h=n.map(function(e,t){d+=Math.abs(e-128);var r=o[t];if(w+=Math.abs(r-128),null!=s&&s.smoothing){for(var a=0,i=0,c=t-s.smoothing;c<t+s.smoothing;){a+=n[c]||128,i+=1,c+=1}return a/i}return e}),f=0,p=0,m=0,v=0;c.current.forEach(function(e,t){e>f&&(f=e);var n=u.current[t];p+=n,m+=1,n>v&&(v=n)});var g=d/n.length,b=p/m||0,y=w/o.length;c.current=c.current.concat(g),u.current=u.current.concat(y),Date.now()-l.current>2e3&&(c.current.shift(),u.current.shift());var j=y>1.5*b;return a.a.createElement(e,{data:h,lowPassData:o,isBeat:j,intensity:g,lowPassIntensity:y})}}},52:function(e,t,n){},59:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(51),o=n(53);var s=n(9),c=1500,u=200,l=.025,d=-.3,w=.3,h=40;function f(e){var t,n,r=Date.now(),a=0,i=(n=h,new o.p(48,n,n)),f=function(e){var t=new o.p(e.parameters.radius,e.parameters.widthSegments,e.parameters.heightSegments).vertices,n=new Float32Array(3*t.length);t.forEach(function(e,t){e.toArray(n,3*t)});var r=new o.c;r.addAttribute("position",new o.b(n,3)),r.attributes.position.dynamic=!0;var a=new o.m({size:1,map:(new o.q).load("assets/images/point.png"),alphaTest:.5,color:6710886,transparent:!0});return new o.l(r,a)}(i),p=function(e){var t=new o.j(75,window.innerWidth/window.innerHeight,.1,1e3);return t.position.set(0,e,0),t.lookAt(new o.r(0,0,0)),t}(u),m=function(){var e=window,t=e.innerWidth,n=e.innerHeight,r=new o.s({alpha:!0});return r.setPixelRatio(window.devicePixelRatio),r.setSize(t,n),r.setClearColor(0,0),r}();e.appendChild(m.domElement);var v=new o.n;v.add(f);var g=new o.d,b=Object(s.a)(function(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight),m.render(v,p)});function y(){"hidden"===document.visibilityState?g.stop():g.start()}return window.addEventListener("resize",b),document.addEventListener("visibilitychange",y),{clock:g,sphereGeometry:i,halpern:f,animate:function e(){var n=g.getDelta();f.rotateY(d*n),Date.now()-r>c&&f.rotateX(w*n),(a+=n)>=2*Math.PI&&(a=0),p.translateY(Math.cos(a)*l),p.translateX(Math.cos(a)*l),p.translateZ(Math.cos(a)*l*5),m.render(v,p),t=window.requestAnimationFrame(e)},cleanup:function(){window.cancelAnimationFrame(t),window.removeEventListener("resize",b),document.removeEventListener("visibilitychange",y),e.removeChild(m.domElement),v.remove(f),f.geometry.dispose(),f.material.dispose(),i.dispose(),m.dispose()}}}n(59),t.default=i.a(function(e){var t=e.data,n=Object(r.useRef)(null),i=Object(r.useRef)(),o=Object(r.useRef)(),s=Object(r.useRef)(),c=Object(r.useRef)(),u=Object(r.useRef)(new Array(t.length).fill(128));return Object(r.useEffect)(function(){var e=f(n.current);i.current=e;var r=e.halpern.geometry;return s.current=Math.floor(t.length/e.sphereGeometry.parameters.widthSegments),c.current=(e.sphereGeometry.vertices.length-2)/(e.sphereGeometry.parameters.widthSegments-1),o.current=r.attributes.position.array.slice(0),e.clock.start(),e.animate(),e.cleanup},[]),Object(r.useEffect)(function(){var e=Math.floor(t.length/2);u.current.splice(0,2),u.current=u.current.concat(new Array(2).fill(t[e]));for(var n=i.current.halpern.geometry,r=n.getAttribute("position").array,a=0;a<o.current.length;){var l=Math.ceil(Math.floor(a/3)/c.current),d=l*s.current,w=Math.min(l,c.current-l),h=Math.abs(u.current[d]-128)/255*w*.1+1;r[a]=o.current[a]*h,r[a+1]=o.current[a+1]*h,r[a+2]=o.current[a+2]*h,a+=3}n.getAttribute("position").needsUpdate=!0},[t]),a.a.createElement("div",{className:"halpern",ref:n})})}}]);
//# sourceMappingURL=7.1ede6d88.chunk.js.map