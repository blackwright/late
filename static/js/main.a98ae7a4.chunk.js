(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(t){t.exports={a:90}},28:function(t,e,n){t.exports=n(48)},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(18),o=n.n(r),s=n(15);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,h=n(19),l=n(16);!function(t){t.BEGIN_VISUALIZATION_TRANSITION="BEGIN_VISUALIZATION_TRANSITION",t.END_VISUALIZATION_TRANSITION="END_VISUALIZATION_TRANSITION",t.GO_TO_PREV_VISUALIZATION="GO_TO_PREV_VISUALIZATION",t.GO_TO_NEXT_VISUALIZATION="GO_TO_NEXT_VISUALIZATION"}(c||(c={}));var u={currentVisualizationIndex:0,prevVisualizationIndex:0};var d=Object(h.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;switch((arguments.length>1?arguments[1]:void 0).type){case c.GO_TO_NEXT_VISUALIZATION:return Object(l.a)({},t,{currentVisualizationIndex:t.currentVisualizationIndex+1,prevVisualizationIndex:t.currentVisualizationIndex});case c.GO_TO_PREV_VISUALIZATION:return Object(l.a)({},t,{currentVisualizationIndex:t.currentVisualizationIndex-1,prevVisualizationIndex:t.currentVisualizationIndex});default:return t}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),v=n(9),f=n(20),m=n(10),g=(n(37),{data:new Uint8Array,lowPassData:new Uint8Array,options:{}});function b(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=e.data,r=e.lowPassData,o=e.options,s=Object(i.useRef)([]),c=Object(i.useRef)([]),h=Object(i.useRef)(Date.now()),l=0,u=0,d=n.map(function(t,e){l+=Math.abs(t-128);var i=r[e];if(u+=Math.abs(i-128),null!=o&&o.smoothing){for(var a=0,s=0,c=e-o.smoothing;c<e+o.smoothing;){a+=n[c]||128,s+=1,c+=1}return a/s}return t}),v=0,f=0,m=0,b=0;s.current.forEach(function(t,e){t>v&&(v=t);var n=c.current[e];f+=n,m+=1,n>b&&(b=n)});var w=l/n.length,y=f/m||0,p=u/r.length;s.current=s.current.concat(w),c.current=c.current.concat(p),Date.now()-h.current>2e3&&(s.current.shift(),c.current.shift());var O=p>1.5*y;return a.a.createElement(t,{data:d,lowPassData:r,isBeat:O,intensity:w,lowPassIntensity:p})}}var w=n(13),y=[["#0E9AA7","#F6CD61","#FE8A71"],["#EE4540","#801336","#2D142C"],["#8FB9A8","#FDFBD4","#FCD0BA"],["#AC6D83","#685D79","#465C7A"],["#F36E38","#EF4648","#582841"],["#F1F1F1","#9BD7D1","#305D7A"],["#DEA5B6","#F3CD8C","#F2E9C2"],["#E27B47","#EFCA58","#46B29E"],["#2E7345","#2E9975","#2DB3B3"],["#52A3CC","#7EA1E5","#AAAAF2"],["#CC5285","#CC5285","#F2BCAA"],["#D8E0BB","#B6CEC7","#86A3C3"]];y.map(function(t,e){return{id:e,colorTriple:t}});function p(){return y[Math.floor(Math.random()*y.length)]}function O(t,e){for(var n=[];n.length<t;){var i=p(),a=i[Math.floor(Math.random()*i.length)];if(e&&n.includes(a))break;n.push(a)}return n}function k(){return O(1)[0]}function x(){var t=Object(w.a)(p());return Math.random()<=.5?t.reverse():t}function j(t,e){return(t%e+e)%e}function T(t){return 0===j(t,1)}function M(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(T(t)&&T(e))return t+Math.floor(Math.random()*(e-t));var i=t+Math.random()*(e-t);return Number(i.toPrecision(n))}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null;return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];var s=this,c=n&&null==i;null!=i&&window.clearTimeout(i),i=window.setTimeout(function(){i=null,n||t.apply(s,r)},e),c&&t.apply(s,r)}}function P(t,e){Object(i.useEffect)(function(){t();var e=E(t);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},e)}n(38);var S=b(function(t){var e=t.data,n=Object(i.useRef)(null);return P(function(){var t=window,e=t.innerWidth,i=t.innerHeight,a=t.devicePixelRatio,r=void 0===a?1:a,o=n.current;o.width=e*r,o.height=i*r;var s=o.getContext("2d");s.fillStyle="#101010",s.fillRect(0,0,o.width,o.height)},[]),Object(i.useEffect)(function(){var t=n.current,e=t.getContext("2d"),i=window.setInterval(function(){e.fillStyle="rgba(0, 0, 0, 0.05)",e.fillRect(0,0,t.width,t.height)},7);return function(){return window.clearInterval(i)}},[]),Object(i.useEffect)(function(){var t=n.current,i=t.getContext("2d");i.lineWidth=10,i.lineCap="round";var a=function(t){switch(t){case 3:return x();case 2:return O(2,!0);case 1:return[k()];default:return x()}}(2),r=t.width/e.length;a.forEach(function(n,o){i.strokeStyle=n,i.beginPath();var s=0*o;i.moveTo(s,t.height/2),e.forEach(function(e){var n=e/255*t.height-5*a.length/2;i.lineTo(s,n+o*(5*a.length/2)),s+=r}),i.lineTo(s,t.height/2),i.stroke()})},[e]),a.a.createElement("div",{className:"waveform"},a.a.createElement("div",{className:"backdrop"}),a.a.createElement("canvas",{ref:n}))}),I=n(11),C=n.n(I),A=(n(39),b(function(t){var e=t.data,n=t.isBeat,r=Object(i.useState)(0),o=Object(v.a)(r,2),s=o[0],c=o[1],h=Object(i.useState)(0),u=Object(v.a)(h,2),d=u[0],g=u[1],b=Object(i.useRef)({values:[k()],lastChangedTimestamp:Date.now()});P(function(){var t=window,e=t.innerWidth,n=t.innerHeight,i=Math.max(e,n);c(2*i);var a=Math.sqrt(Math.pow(e,2)+Math.pow(n,2));g(a)},[]);for(var w=b.current,y={},p=0;p<10;)y[p]=0,p+=1;e.forEach(function(t){for(var e=0;e<10;){var n=25.6*(e+1);if(Math.abs(t-128)>10&&t<=n){y[e]+=1;break}e+=1}});var O=Date.now();if(n&&O-w.lastChangedTimestamp>200){var x;do{x=k()}while(w.values[w.values.length-1]===x);w.values.push(x),w.values.length>1&&w.values.shift(),w.lastChangedTimestamp=O}var j=Object.entries(y).map(function(t,e){var n=Object(v.a)(t,2),i=n[0],r=n[1],o=(+i+1)*s/10;return a.a.createElement("div",{key:i,className:"drummer-container",style:{width:"".concat(o,"px"),height:"".concat(o,"px"),opacity:(10-e)/10*.5*.25}},a.a.createElement("div",{className:C()("beat",{hit:r>10.24})}))}),T=s/20,M=Object(m.d)(w.values,null,{from:function(t){return{backgroundColor:t,width:T,height:T,scale:1}},enter:{scale:d/T*1.5},leave:{scale:0},config:m.b.slow});return a.a.createElement("div",{className:"drummer"},j,M.map(function(t){t.item;var e=t.props,n=t.key,i=e,r=i.scale,o=Object(f.a)(i,["scale"]);return a.a.createElement(m.a.div,{className:"color-overlay",key:n,style:Object(l.a)({},o,{transform:Object(m.c)([r],function(t){return"translate3d(0, 0, 0) scale(".concat(t,")")})})})}))})),R=n(2);var W=1500,H=200,F=.025,N=-.3,D=.3,L=60;function _(t){var e,n,i=Date.now(),a=0,r=(n=L,new R.p(48,n,n)),o=function(t){var e=new R.p(t.parameters.radius,t.parameters.widthSegments,t.parameters.heightSegments).vertices,n=new Float32Array(3*e.length);e.forEach(function(t,e){t.toArray(n,3*e)});var i=new R.c;i.addAttribute("position",new R.b(n,3)),i.attributes.position.dynamic=!0;var a=new R.m({size:.5,map:(new R.q).load("assets/images/point.png"),alphaTest:.5,color:6710886,transparent:!0});return new R.l(i,a)}(r),s=function(t){var e=new R.j(75,window.innerWidth/window.innerHeight,.1,1e3);return e.position.set(0,t,0),e.lookAt(new R.r(0,0,0)),e}(H),c=function(){var t=window,e=t.innerWidth,n=t.innerHeight,i=new R.s({alpha:!0});return i.setPixelRatio(window.devicePixelRatio),i.setSize(e,n),i.setClearColor(0,0),i}();t.appendChild(c.domElement);var h=new R.n;h.add(o);var l=new R.d,u=E(function(){s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight),c.render(h,s)});function d(){"hidden"===document.visibilityState?l.stop():l.start()}return window.addEventListener("resize",u),document.addEventListener("visibilitychange",d),{clock:l,sphereGeometry:r,halpern:o,animate:function t(){var n=l.getDelta();o.rotateY(N*n),Date.now()-i>W&&o.rotateX(D*n),(a+=n)>=2*Math.PI&&(a=0),s.translateY(Math.cos(a)*F),s.translateX(Math.cos(a)*F),s.translateZ(Math.cos(a)*F*5),c.render(h,s),e=window.requestAnimationFrame(t)},cleanup:function(){window.cancelAnimationFrame(e),window.removeEventListener("resize",u),document.removeEventListener("visibilitychange",d),t.removeChild(c.domElement),h.remove(o),o.geometry.dispose(),o.material.dispose(),r.dispose(),c.dispose()}}}n(40);var B=b(function(t){var e=t.data,n=Object(i.useRef)(null),r=Object(i.useRef)(),o=Object(i.useRef)(),s=Object(i.useRef)(),c=Object(i.useRef)(),h=Object(i.useRef)(new Array(e.length).fill(128));return Object(i.useEffect)(function(){var t=_(n.current);r.current=t;var i=t.halpern.geometry;return s.current=Math.floor(e.length/t.sphereGeometry.parameters.widthSegments),c.current=(t.sphereGeometry.vertices.length-2)/(t.sphereGeometry.parameters.widthSegments-1),o.current=i.attributes.position.array.slice(0),t.clock.start(),t.animate(),t.cleanup},[]),Object(i.useEffect)(function(){var t=Math.floor(e.length/2);h.current.splice(0,3),h.current=h.current.concat(new Array(3).fill(e[t]));for(var n=r.current.halpern.geometry,i=n.getAttribute("position").array,a=0;a<o.current.length;){var l=Math.ceil(Math.floor(a/3)/c.current),u=l*s.current,d=Math.min(l,c.current-l),v=Math.abs(h.current[u]-128)/255*d*.1+1;i[a]=o.current[a]*v,i[a+1]=o.current[a+1]*v,i[a+2]=o.current[a+2]*v,a+=3}n.getAttribute("position").needsUpdate=!0},[e]),a.a.createElement("div",{className:"halpern",ref:n})});var z="\nattribute float alpha;\nvarying float vAlpha;\n\nvoid main() {\n  vAlpha = alpha;\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_PointSize = 4.0 * alpha;\n  gl_Position = projectionMatrix * mvPosition;\n}\n",V="\nuniform vec3 color;\nvarying float vAlpha;\n\nvoid main() {\n  float r = 0.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n  if (r > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, vAlpha);\n}\n";function U(){var t=Math.random()<.5?"cloud.png":"smoke.png",e=new R.k(50,50),n=new R.i({map:(new R.q).load("assets/images/".concat(t)),transparent:!0,opacity:.15,depthTest:!1});e.rotateZ(360*Math.random());var i=new R.h(e,n),a=15*Math.random()+10;return i.position.set(100*Math.random()-50,100*Math.random()-50,Math.random()<.5?a:-a),i}function X(t,e){return new R.f(t,e)}var G=1e4,q=40,Z=1,Y=.2,J=.75,$=.025,K=.001,Q=50358,tt=13697058;function et(t,e){var n,i=function(){var t=window,e=t.innerWidth,n=t.innerHeight,i=new R.s({antialias:!0});return i.setPixelRatio(window.devicePixelRatio),i.setSize(e,n),i.setClearColor(15,1),i}();t.appendChild(i.domElement);var a=new R.j(50,window.innerWidth/window.innerHeight,1,1e3),r=new R.n,o=function(t){for(var e=new R.c,n=new Float32Array(3*t),i=0;i<t;)n[i++]=100*Math.random()-50,n[i++]=100*Math.random()-50,n[i++]=100*Math.random()-50;e.addAttribute("position",new R.b(n,3));for(var a=new Float32Array(1*e.attributes.position.count),r=0;r<a.length;)a[r]=Math.random(),r+=1;e.addAttribute("alpha",new R.b(a,1));var o=new R.o({uniforms:{color:{type:"c",value:new R.e(16777215)}},vertexShader:z,fragmentShader:V,transparent:!0});return new R.l(e,o)}(G);r.add(o);for(var s=new R.g,c=0;c<=q;){var h=U();s.add(h),c+=1}r.add(s);var l,u,d=(l=16777215,u=e,new R.a(l,u));r.add(d);var v=X(Q,2);v.position.set(0,0,1),r.add(v);var f=X(tt,e);f.position.set(0,0,1),r.add(f);for(var m=o.geometry.attributes.alpha,g=new Float32Array(m.count),b=0;b<g.length;b++)g[b]=Math.random()<.5?1:-1;var w=new R.d,y=E(function(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),i.render(r,a)});function p(){"hidden"===document.visibilityState?w.stop():w.start()}return window.addEventListener("resize",y),document.addEventListener("visibilitychange",p),{clock:w,animate:function t(){var e=w.getDelta();o.rotateX(K*e),o.rotateY($*e),s.rotateX(24*K*e),s.rotateY(2*$*e),s.rotateZ(3*K*e),s.children.forEach(function(t){t.lookAt(a.position)});for(var c=0;c<m.count;c++)g[c]>0?(m.array[c]*=1+J*e,m.array[c]>Z&&(g[c]=-1)):(m.array[c]*=1-J*e,m.array[c]<Y&&(g[c]=1));m.needsUpdate=!0,i.render(r,a),n=window.requestAnimationFrame(t)},cleanup:function(){window.cancelAnimationFrame(n),window.removeEventListener("resize",y),document.removeEventListener("visibilitychange",p),t.removeChild(i.domElement),r.remove(o),o.geometry.dispose(),o.material.dispose(),r.remove(s),s.children.forEach(function(t){t.geometry.dispose(),t.material.dispose()}),i.dispose(),console.log("disposed three objects")},dLight:f}}n(41);var nt=b(function(t){var e=t.data,n=t.intensity,r=Object(i.useRef)(null),o=Object(i.useRef)(),s=Object(i.useRef)(Date.now());return Object(i.useEffect)(function(){var t=et(r.current,1);return o.current=t,t.clock.start(),t.animate(),t.cleanup},[]),Object(i.useEffect)(function(){var t=Date.now();if(!(t-s.current<=75)){var e=o.current.dLight,i=e.intensity,a=n/2||1;a-i>2.5&&(a=i+2.5),e.intensity=a,s.current=t}},[e]),a.a.createElement("div",{className:"stars",ref:r})}),it=n(3),at=n(4),rt=n(5),ot=n(1),st=n(8),ct=n(6),ht=50,lt=function(){function t(e){Object(it.a)(this,t),this.ctx=e,this.canvasWidth=void 0,this.canvasHeight=void 0,this.oneThirdCanvasWidth=void 0,this.oneHalfCanvasHeight=void 0,this.windowFrameThickness=void 0,this.roundedRadius=void 0,this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.oneThirdCanvasWidth=this.canvasWidth/3,this.oneHalfCanvasHeight=this.canvasHeight/2,this.windowFrameThickness=Math.floor(Math.max(this.canvasWidth,this.canvasHeight)/ht),this.roundedRadius=Math.floor(this.windowFrameThickness/3),e.save()}return Object(at.a)(t,[{key:"render",value:function(){this.ctx.restore()}},{key:"tick",value:function(t){}}]),t}(),ut=function(){function t(e){Object(it.a)(this,t),this.ctx=void 0,this.canvasHeight=void 0,this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.color=void 0,this.lights=[],this.ctx=e.ctx,this.canvasHeight=e.canvasHeight,this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.color=e.color}return Object(at.a)(t,[{key:"generateLights",value:function(){for(var t=this.canvasHeight,e=this.width,n=this.height,i=M(.01,.025)*n,a=M(.01,.03)*n,r=M(3,10),o=M(.05,.1)*e,s=M(.025,.1)*n,c=M(.01,.05)*e,h=(this.width-2*o-c*(r-1))/r,l=[],u=this.x+o,d=this.y+s;d<.98*t;)u>=this.x+this.width-o?(u=this.x+o,d+=i+a):(l.push({x:u,y:d,width:h,height:i,isOn:Math.random()>.4}),u+=h+c);this.lights=l}},{key:"render",value:function(){var t=this.ctx,e=this.x,n=this.y,i=this.width,a=this.height,r=this.color;t.save(),t.fillStyle=r,t.fillRect(e,n,i,a),t.fillStyle="rgb(255, 255, 255)";var o=!0,s=!1,c=void 0;try{for(var h,l=this.lights[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var u=h.value;u.isOn&&t.fillRect(u.x,u.y,u.width,u.height)}}catch(d){s=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(s)throw c}}t.restore()}}]),t}(),dt=function(t){function e(t){var n;return Object(it.a)(this,e),(n=Object(rt.a)(this,Object(ot.a)(e).call(this,t))).layers=[],n.generateBuildings(),n}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"generateBuildings",value:function(){for(var t=this,e=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=function(a){for(var r=[],o=0;o<n;){var s=M(.08,.15,2)*n,c=M(.3,.95,2)*i,h=M(.02,.05)*n,l=new ut({y:i-c,color:k(),ctx:e,canvasHeight:i,x:o,width:s,height:c});r.push(l),o+=s+h}var u=r[0],d=M(.25*u.width,.75*u.width);r.forEach(function(t){return t.x-=d}),t.layers.push(r)},r=0;r<4;r++)a()}},{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this);for(var t=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=this.layers,r=0;r<a.length;r++){var o=a[r];r===a.length-1&&o.forEach(function(t){return t.generateLights()});var s=!0,c=!1,h=void 0;try{for(var l,u=o[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){l.value.render()}}catch(d){c=!0,h=d}finally{try{s||null==u.return||u.return()}finally{if(c)throw h}}t.fillStyle="rgba(65, 35, 66, 0.6)",t.fillRect(0,0,n,i)}}}]),e}(lt),vt=15,ft=function(){function t(e,n,i,a,r){Object(it.a)(this,t),this.ctx=e,this.canvasHeight=n,this.x=i,this.y=a,this.height=r,this.createdDate=void 0,this.createdDate=Date.now()}return Object(at.a)(t,[{key:"tick",value:function(t){var e=t-this.createdDate;this.y=Math.floor(e/400*this.canvasHeight)}},{key:"render",value:function(){var t=this.ctx,e=this.x,n=this.y,i=this.height;t.strokeStyle="#788",t.lineWidth=1,t.beginPath(),t.moveTo(e,n),t.lineTo(e,n+i),t.stroke()}}]),t}(),mt=function(){function t(e){Object(it.a)(this,t),this.ctx=e,this.raindrops=[],this.raindropHeight=void 0,this.canvasWidth=void 0,this.canvasHeight=void 0,this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.raindropHeight=Math.floor(this.canvasHeight/vt)}return Object(at.a)(t,[{key:"tick",value:function(){for(var t=this.raindrops,e=this.canvasHeight,n=Date.now(),i=t.length-1;i>=0;i--){var a=t[i];a.tick(n),a.y>=e&&t.splice(i,1)}}},{key:"add",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,i=this.raindrops,a=this.raindropHeight,r=Math.floor(Math.random()*(e-1)+1),o=-n/vt;i.push(new ft(t,n,r,o,a))}},{key:"render",value:function(){this.raindrops.forEach(function(t){return t.render()})}}]),t}(),gt=function(t){function e(t){return Object(it.a)(this,e),Object(rt.a)(this,Object(ot.a)(e).call(this,t))}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this);var t=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=this.ctx.createLinearGradient(0,0,0,i);a.addColorStop(0,"#181623"),a.addColorStop(1,"#111019"),t.fillStyle=a,t.fillRect(0,0,n,i)}}]),e}(lt),bt={tl:0,tr:0,br:0,bl:0};function wt(t,e,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bt,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];t.beginPath(),t.moveTo(e+r.tl,n),t.lineTo(e+i-r.tr,n),t.quadraticCurveTo(e+i,n,e+i,n+r.tr),t.lineTo(e+i,n+a-r.br),t.quadraticCurveTo(e+i,n+a,e+i-r.br,n+a),t.lineTo(e+r.bl,n+a),t.quadraticCurveTo(e,n+a,e,n+a-r.bl),t.lineTo(e,n+r.tl),t.quadraticCurveTo(e,n,e+r.tl,n),t.closePath(),t.fill(),o&&t.stroke()}var yt=function(t){function e(t){return Object(it.a)(this,e),Object(rt.a)(this,Object(ot.a)(e).call(this,t))}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this);var t=this.ctx,n=this.oneThirdCanvasWidth,i=this.oneHalfCanvasHeight,a=this.windowFrameThickness;t.fillStyle="#3D1A1E",t.fillRect(n-a,i/2-a,n+2*a,i+2*a),t.clearRect(n,i/2,n,i);var r=Math.floor(a/2),o=4*n/3-2*r/3,s=5*n/3-r/3,c=i/2-a,h=n-a,l=5*i/6-2*r/3,u=7*i/6-r/3;t.fillRect(o,c,r,i+2*a),t.fillRect(s,c,r,i+2*a),t.fillRect(h,l,n+2*a,r),t.fillRect(h,u,n+2*a,r),t.fillStyle="#682634",t.fillRect(n-2*a,i/2-2*a,n+4*a,a-1),wt(t,n-2*a,3*i/2+a+1,n+4*a,a,{tl:0,tr:0,bl:this.roundedRadius,br:this.roundedRadius}),t.lineWidth=2,t.strokeStyle="#682634",t.rect(n-2*a/3,i/2-2*a/3,n+4*a/3,i+4*a/3),t.stroke(),t.rect(n-5*a/9,i/2-5*a/9,n+10*a/9,i+10*a/9),t.stroke()}}]),e}(lt),pt=function(t){function e(t){return Object(it.a)(this,e),Object(rt.a)(this,Object(ot.a)(e).call(this,t))}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"dresser",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,i=this.windowFrameThickness,a=2*e/3+5*i,r=2*n/3;t.fillStyle="#122C2B",t.fillRect(a,r,e,n),t.strokeStyle="#091c1b",t.lineWidth=3,t.beginPath(),t.rect(a+i,r+i,e,n),t.stroke();var o=a+i+3*(e-(a+i))/5;t.beginPath(),t.moveTo(o,r+2.5*i),t.lineTo(e,r+2.5*i),t.lineWidth=2*i/3,t.stroke(),t.beginPath(),t.moveTo(a+i,r+6*i),t.lineTo(e,r+6*i),t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(o,r+7.5*i),t.lineTo(e,r+7.5*i),t.lineWidth=2*i/3,t.stroke()}},{key:"stereo",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,i=this.windowFrameThickness,a=3.5*i,r=.2*n,o=2*e/3+5*i+4*i,s=2*n/3-r;t.fillStyle="#222",t.fillRect(o,s,a,r);var c=Math.min(a,r)/8,h=o+a/2,l=s+2*c;t.fillStyle="#111",t.beginPath(),t.arc(h,l,c,0,2*Math.PI),t.fill();var u=i/10;t.fillStyle="#111",t.fillRect(o-u,s,u,r),t.fillRect(o+a,s,u,r);var d=o+a+u,v=.8*r,f=s+r-v;t.fillStyle="#222",t.fillRect(d,f,e,v);var m=d+i/2;t.fillStyle="#444",t.strokeStyle="#111",t.lineWidth=i/8,t.beginPath(),t.rect(m,f+1.5*i,e,.25*v),t.fill(),t.stroke(),t.fillStyle="#111",t.fillRect(m,f+i,e,i/4);var g=f+v-.8*i;t.fillRect(d+2*i,g,e,i/4),t.fillStyle="#444";var b=i/2,w=d+i,y=g+i/8;t.beginPath(),t.arc(w,y,b,0,2*Math.PI),t.fill(),t.clip(),t.save(),t.translate(w,y);var p=.75*Math.PI,O={x:Math.sin(p)*(b-i/4),y:Math.cos(p)*(b-i/4)},k={x:Math.sin(p)*b*2,y:Math.cos(p)*b*2};t.lineWidth=i/8,t.lineCap="round",t.beginPath(),t.moveTo(O.x,O.y),t.lineTo(k.x,k.y),t.stroke(),t.restore(),t.restore()}},{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this),this.dresser(),this.stereo(),this.tick()}},{key:"tick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=this.windowFrameThickness,r=3.5*a,o=.2*i,s=2*n/3+5*a+4*a,c=2*i/3-o,h=Math.min(r,o)/8,l=s+r/2,u=Math.min(r,o)/2.5,d=Math.max(c+u+4*h,c+o-(u+2*h));e.strokeStyle="#444",e.fillStyle="#222",e.lineWidth=a/8,e.beginPath(),e.arc(l,d,u,0,2*Math.PI),e.fill(),e.stroke(),e.fillStyle="#111",e.beginPath(),e.arc(l,d,t?.63*u:.6*u,0,2*Math.PI),e.fill()}}]),e}(lt),Ot=n(7),kt=function(t){function e(t){var n;Object(it.a)(this,e),(n=Object(rt.a)(this,Object(ot.a)(e).call(this,t))).pictures=[];var i=Object(Ot.a)(Object(Ot.a)(n)),a=i.oneThirdCanvasWidth,r=i.windowFrameThickness;return n.pictures.push({x:3*a/4-4*r,y:-r,width:4*r,height:5*r}),n.pictures.push({x:n.pictures[0].x-7*r,y:2*r,width:5*r,height:4*r}),n.pictures.push({x:n.pictures[1].x+2*r,y:n.pictures[1].y+n.pictures[1].height+1.5*r,width:6*r,height:8*r}),n}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"graph",value:function(){var t=this.ctx,e=this.windowFrameThickness,n=this.pictures[0],i=n.x,a=n.y,r=n.width,o=n.height;t.save(),t.beginPath(),t.rect(i,a,r,o),t.clip();var s=t.createLinearGradient(i,a,i,a+o);s.addColorStop(0,"#24131f"),s.addColorStop(1,"#051b1f"),t.fillStyle=s,t.fill();for(var c=[],h=e/6,l=0;l<20;l++)c.push({x:Math.floor(Math.random()*r+i),y:Math.floor(Math.random()*o+a)});var u,d;for(t.fillStyle="#703c3a",t.strokeStyle="#703c3a",t.lineWidth=1;c.length;){var v=c.pop();t.beginPath(),t.arc(v.x,v.y,h/2,0,2*Math.PI),t.fill();for(var f=0;f<c.length;f++){var m=c[f];u=v,d=m,Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2))<o/4&&(t.beginPath(),t.moveTo(v.x,v.y),t.lineTo(m.x,m.y),t.stroke())}}t.strokeStyle="#122C2B",t.lineWidth=e/1.5,t.beginPath(),t.rect(i,a,r,o),t.stroke(),t.restore()}},{key:"orbits",value:function(){var t=this.ctx,e=this.windowFrameThickness,n=this.pictures[1],i=n.x,a=n.y,r=n.width,o=n.height;t.save(),t.beginPath(),t.rect(i,a,r,o),t.clip();var s=t.createLinearGradient(i,a,i,a+o);s.addColorStop(0,"#556e53"),s.addColorStop(1,"#29435c"),t.fillStyle=s,t.fill();t.fillStyle="#879591",t.strokeStyle="#879591",t.beginPath(),t.arc(i+r/2,a+o/2,o/14,0,2*Math.PI),t.fill();for(var c=Math.floor(o/6);c<=o/2;c+=e/4){t.beginPath(),t.arc(i+r/2,a+o/2,c,0,2*Math.PI),t.stroke();var h=Math.random()*Math.PI*2,l=i+r/2+Math.cos(h)*c,u=a+o/2+Math.sin(h)*c,d=Math.random()*(r/64)+r/192;t.beginPath(),t.arc(l,u,d,0,2*Math.PI),t.fill()}t.strokeStyle="#152a38",t.lineWidth=e/1.2,t.beginPath(),t.rect(i,a,r,o),t.stroke(),t.restore()}},{key:"stars",value:function(){var t=this.ctx,e=this.windowFrameThickness,n=this.pictures[2],i=n.x,a=n.y,r=n.width,o=n.height;t.save(),t.beginPath(),t.rect(i,a,r,o),t.clip();var s=t.createLinearGradient(i,a,i,a+o);s.addColorStop(0,"#09325E"),s.addColorStop(.75,"#2A2A47"),t.fillStyle=s,t.fill(),t.fillStyle="#F5E7F8";for(var c=0;c<60;c++){var h=Math.floor(Math.random()*r+i),l=Math.floor(Math.random()*o+a),u=Math.floor(2*Math.random()+1);t.beginPath(),t.arc(h,l,u,0,2*Math.PI),t.fill()}t.strokeStyle="#0D0B21",t.lineWidth=e/1.5,t.beginPath(),t.rect(i,a,r,o),t.stroke(),t.restore()}},{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this),this.graph(),this.orbits(),this.stars()}}]),e}(lt),xt=["#564837","#713C3A"],jt=function(t){function e(t){var n;return Object(it.a)(this,e),(n=Object(rt.a)(this,Object(ot.a)(e).call(this,t))).y=void 0,n.y=.7*n.canvasHeight,n}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"top",value:function(){var t=this.ctx,e=this.y,n=this.windowFrameThickness,i=.7*this.oneThirdCanvasWidth,a=1.35*n,r={tl:0,tr:this.roundedRadius,br:0,bl:0};t.fillStyle="#122C2B",wt(t,0,e,i,a,r),t.fillStyle="#06151A",t.beginPath(),t.rect(0,e+a-n/4,i,n/4),t.fill()}},{key:"leg",value:function(){var t=this.ctx,e=this.y,n=this.windowFrameThickness,i=this.canvasHeight,a=this.oneThirdCanvasWidth;t.strokeStyle="#122C2B",t.lineWidth=1.5*n,t.beginPath(),t.moveTo(.5*a,e),t.lineTo(.5*a,i),t.stroke()}},{key:"centerpiece",value:function(){for(var t=this.ctx,e=this.y,n=this.windowFrameThickness,i=this.canvasWidth,a=this.oneThirdCanvasWidth,r=.25*a,o=.3*a,s=2*n,c=[{xOffset:(o-.4*o)/4,y:e-s,radius:.2*o,color:xt[0],stemAngle:.9*Math.PI},{xOffset:-(o-.4*o)/4,y:e-s+s/8,radius:.2*o,color:xt[1],stemAngle:1.1*Math.PI}],h=0;h<c.length;h++){var l=c[h];t.fillStyle=l.color,t.beginPath(),t.arc(r+l.xOffset,l.y,l.radius,0,2*Math.PI),t.fill()}t.strokeStyle="#04070F",t.lineCap="round",t.lineWidth=2;for(var u=0;u<c.length;u++){var d=c[u];t.save(),t.translate(r+d.xOffset,d.y);var v={x:Math.sin(d.stemAngle)*c[1].radius*.9,y:Math.cos(d.stemAngle)*c[1].radius*.9},f={x:Math.sin(d.stemAngle)*c[1].radius*1.1,y:Math.cos(d.stemAngle)*c[1].radius*1.1};t.beginPath(),t.moveTo(v.x,v.y),t.lineTo(f.x,f.y),t.stroke(),t.restore()}var m={tl:0,tr:0,br:.1*a,bl:.1*a},g=s/8,b=.5*o;t.fillStyle="#1e1e1e",t.fillRect(r-b/2,e-s-g,b,s+g),t.fillStyle="#3e3e3e",wt(t,r-o/2,e-s-g,o,s,m),t.save(),t.clip(),t.lineWidth=2,t.strokeStyle="#06151A";var w=e-s-g+s/6;t.beginPath(),t.moveTo(0,w),t.lineTo(i,w),t.stroke(),t.restore()}},{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this),this.leg(),this.top(),this.centerpiece()}}]),e}(lt),Tt=function(t){function e(t){var n;Object(it.a)(this,e),(n=Object(rt.a)(this,Object(ot.a)(e).call(this,t))).clockSize=void 0,n.clockCoords=void 0,n.clockSize=5*n.windowFrameThickness;var i=Math.max(.7*n.canvasWidth,2*n.canvasWidth/3+8*n.windowFrameThickness),a=n.canvasHeight/5;return n.clockCoords={x:i,y:a},n}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"face",value:function(){var t=this.ctx,e=this.clockSize,n=this.clockCoords,i=n.x,a=n.y;t.strokeStyle="#122C2B",t.lineWidth=this.windowFrameThickness/2,t.beginPath(),t.arc(i,a,e/1.75,0,2*Math.PI,!0),t.stroke(),t.strokeStyle="#06151A",t.beginPath(),t.arc(i,a,e/2,0,2*Math.PI,!0),t.stroke(),t.beginPath(),t.arc(i,a,e/2,0,2*Math.PI,!0),t.fillStyle="#4B4721",t.fill(),t.lineWidth=2,t.strokeStyle="#192124",t.save(),t.translate(i,a);for(var r=1;r<=60;r++){var o=r*Math.PI/30,s={x:Math.sin(o)*(e/2-e/20),y:Math.cos(o)*(e/2-e/20)},c={x:Math.sin(o)*(e/2-e/15),y:Math.cos(o)*(e/2-e/15)};t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(c.x,c.y),t.stroke()}t.restore()}},{key:"hands",value:function(){var t=this.ctx,e=this.clockSize,n=this.clockCoords,i=n.x,a=n.y;t.beginPath(),t.arc(i,a,e/2-e/15,0,2*Math.PI,!0),t.fillStyle="#4B4721",t.fill(),t.lineWidth=e/40,t.lineCap="round",t.strokeStyle="#192124",t.save(),t.translate(i,a);var r=new Date,o=r.getHours(),s=r.getMinutes(),c=r.getSeconds();t.save(),t.rotate(Math.PI/6*(o+s/60+c/3600)),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/4),t.stroke(),t.restore(),t.save(),t.rotate(Math.PI/30*(s+c/60)),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/2.75),t.stroke(),t.restore(),t.lineWidth=e/100,t.save(),t.rotate(Math.PI/30*c),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/2.7),t.stroke(),t.restore(),t.restore()}},{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this),this.face(),this.hands()}},{key:"tick",value:function(){this.hands()}}]),e}(lt),Mt=function(t){function e(t){var n;Object(it.a)(this,e),(n=Object(rt.a)(this,Object(ot.a)(e).call(this,t))).isWagging=!1,n.prevTailAngle=-Math.PI/2,n.headRadius=void 0,n.bodyHeight=void 0,n.bodyWidth=void 0,n.x=void 0,n.createdTimestamp=void 0,n.tailWidth=void 0,n.tailY=void 0;var i=Object(Ot.a)(Object(Ot.a)(n)),a=i.windowFrameThickness,r=i.oneThirdCanvasWidth,o=i.oneHalfCanvasHeight;return n.x=2*r-1.2*a,n.headRadius=a,n.bodyHeight=3*a,n.bodyWidth=2.2*a,n.createdTimestamp=Date.now(),n.tailWidth=a/2,n.tailY=3*o/2+a-n.tailWidth/2,n}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"head",value:function(){var t=this.ctx,e=this.oneHalfCanvasHeight,n=this.x,i=this.headRadius,a=3*e/2-this.bodyHeight-this.headRadius;t.fillStyle="#000",t.strokeStyle="#000",t.beginPath(),t.arc(n,a,i,0,2*Math.PI),t.fill(),t.save(),t.translate(n,a),t.lineWidth=5,t.lineJoin="round";var r={start:{x:Math.sin(.85*Math.PI)*i,y:Math.cos(.85*Math.PI)*i},point:{x:Math.sin(.8*Math.PI)*i*1.4,y:Math.cos(.8*Math.PI)*i*1.4},end:{x:Math.sin(.7*Math.PI)*i,y:Math.cos(.7*Math.PI)*i}};t.beginPath(),t.moveTo(r.start.x,r.start.y),t.lineTo(r.point.x,r.point.y),t.lineTo(r.end.x,r.end.y),t.closePath(),t.fill(),t.stroke();var o={start:{x:Math.sin(1.2*Math.PI)*i,y:Math.cos(1.2*Math.PI)*i},point:{x:Math.sin(1.22*Math.PI)*i*1.5,y:Math.cos(1.22*Math.PI)*i*1.5},end:{x:Math.sin(1.3*Math.PI)*i,y:Math.cos(1.3*Math.PI)*i}};t.beginPath(),t.moveTo(o.start.x,o.start.y),t.lineTo(o.point.x,o.point.y),t.lineTo(o.end.x,o.end.y),t.closePath(),t.fill(),t.stroke(),t.restore()}},{key:"body",value:function(){var t=this.ctx,e=this.oneHalfCanvasHeight,n=this.windowFrameThickness,i=this.x,a=this.headRadius,r=this.bodyWidth,o=this.bodyHeight,s=3*e/2-o;t.beginPath(),t.moveTo(i,s-a/2),t.quadraticCurveTo(i-.75*r,s+o/4,i-r/3,s+o+n),t.lineTo(i+r/2,s+o+n),t.quadraticCurveTo(i+1.2*r,s+o+n,i+r/3,s-a/3),t.closePath(),t.fill(),t.beginPath(),t.moveTo(i-r/4,s+.3*o),t.quadraticCurveTo(i-r,s+o,i-r/3,s+o+n),t.lineTo(i+r/2,s+o+n),t.closePath(),t.fill()}},{key:"tail",value:function(){var t=this.ctx,e=this.tailWidth,n=this.x,i=this.bodyWidth,a=this.tailY;t.lineWidth=e,t.lineCap="round",t.beginPath(),t.moveTo(n,a),t.lineTo(n-i,a),t.stroke()}},{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this);var t=this.ctx,n=this.canvasWidth,i=this.canvasHeight;t.clearRect(0,0,n,i),this.head(),this.body(),this.tail()}},{key:"tick",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,i=this.createdTimestamp,a=this.x,r=this.bodyWidth,o=this.tailY;t.clearRect(0,0,e,n),this.head(),this.body();var s=Date.now()-i,c=-Math.PI/2+Math.sin(s/200)*-Math.PI/20;if(this.prevTailAngle>-Math.PI/2&&c<-Math.PI/2&&(this.isWagging=Math.random()<.1),this.prevTailAngle=c,c>-Math.PI/2&&(c=-Math.PI/2),this.isWagging){t.save(),t.translate(a,o);var h={x:Math.sin(c)*r,y:Math.cos(c)*r};t.beginPath(),t.moveTo(0,0),t.quadraticCurveTo(-r,-Math.cos(c)*r/10,h.x,h.y),t.stroke(),t.restore()}else this.tail()}}]),e}(lt),Et=function(t){function e(t){var n;Object(it.a)(this,e),(n=Object(rt.a)(this,Object(ot.a)(e).call(this,t))).stemX=void 0,n.stemHeight=void 0,n.lampWidth=void 0,n.shadeTopLeft=void 0,n.shadeTopRight=void 0,n.shadeBottomRight=void 0,n.shadeBottomLeft=void 0;var i=Object(Ot.a)(Object(Ot.a)(n)),a=i.canvasWidth,r=i.canvasHeight,o=i.windowFrameThickness;return n.stemX=7*a/11,n.stemHeight=r/5,n.lampWidth=3.5*o,n.shadeTopLeft={x:n.stemX-o/5,y:n.stemHeight+o},n.shadeTopRight={x:n.stemX+o/5,y:n.stemHeight+o},n.shadeBottomRight={x:n.stemX+n.lampWidth/2,y:n.stemHeight+3*o},n.shadeBottomLeft={x:n.stemX-n.lampWidth/2,y:n.stemHeight+3*o},n}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"stem",value:function(){var t=this.ctx,e=this.windowFrameThickness,n=this.stemX,i=this.stemHeight;t.strokeStyle="#8e8e8e",t.fillStyle="#8e8e8e",t.lineWidth=e/5,t.beginPath(),t.moveTo(n,0),t.lineTo(n,i),t.stroke(),t.lineWidth=1,t.fillRect(n-e/5,i-1,2*e/5,e),t.stroke()}},{key:"lampshade",value:function(){var t=this.ctx,e=this.shadeTopLeft,n=this.shadeTopRight,i=this.shadeBottomRight,a=this.shadeBottomLeft;t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.lineTo(a.x,a.y),t.closePath(),t.fill(),t.stroke(),t.fillStyle="#ff7",t.fillRect(a.x,a.y,i.x-a.x,2)}},{key:"light",value:function(){var t=this.ctx,e=this.canvasHeight,n=this.windowFrameThickness,i=this.stemX,a=this.stemHeight,r=this.lampWidth,o=this.shadeTopLeft,s=this.shadeBottomRight,c=this.shadeBottomLeft;t.fillStyle="rgba(252, 243, 126, 0.085)";var h=e-c.y,l=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.atan2(i,n)}(c,{x:o.x,y:c.y+c.y-o.y}),u=h/Math.tan(l),d=c.x-u,v=s.x+u;t.beginPath(),t.moveTo(i-r/2,a+3*n),t.lineTo(i+r/2,a+3*n),t.lineTo(v,e),t.lineTo(d,e),t.fill()}},{key:"render",value:function(){Object(st.a)(Object(ot.a)(e.prototype),"render",this).call(this),this.stem(),this.lampshade(),this.tick()}},{key:"tick",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,i=this.windowFrameThickness,a=this.stemHeight;t.clearRect(0,a+3*i+2,e,n),this.light()}}]),e}(lt),Pt=function(t){function e(t){var n;return Object(it.a)(this,e),(n=Object(rt.a)(this,Object(ot.a)(e).call(this,t))).wall=void 0,n.window=void 0,n.dresser=void 0,n.pictures=void 0,n.table=void 0,n.clock=void 0,n.wall=new gt(t),n.window=new yt(t),n.dresser=new pt(t),n.pictures=new kt(t),n.table=new jt(t),n.clock=new Tt(t),n}return Object(ct.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){this.wall.render(),this.window.render(),this.dresser.render(),this.pictures.render(),this.table.render(),this.clock.render()}}]),e}(lt),St=(n(42),b(function(t){var e=t.data,n=t.isBeat,r=t.lowPassIntensity,o=Object(i.useRef)(null),s=Object(i.useRef)();P(function(){var t=o.current,e=window;!function(e,n,i){t.width=e*i,t.height=n*i;var a=t.getContext("2d"),r=new dt(a);s.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var c=Object(i.useRef)(null),h=Object(i.useRef)();P(function(){var t=c.current,e=window;!function(e,n,i){t.width=e*i,t.height=n*i;var a=t.getContext("2d"),r=h.current;null==r?h.current=new mt(a):((r=h.current).canvasWidth=e*i,r.canvasHeight=n*i)}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var l=Object(i.useRef)(null),u=Object(i.useRef)(),d=Object(i.useRef)();P(function(){var t=l.current,e=window;!function(e,n,i){t.width=e*i,t.height=n*i;var a=t.getContext("2d"),r=new Pt(a);u.current=r,r.render(),d.current&&window.clearTimeout(d.current),d.current=window.setInterval(function(){return r.clock.tick()},1e3)}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var v=Object(i.useRef)(null),f=Object(i.useRef)();P(function(){var t=v.current,e=window;!function(e,n,i){t.width=e*i,t.height=n*i;var a=t.getContext("2d"),r=new Mt(a);f.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var m=Object(i.useRef)(null),g=Object(i.useRef)();return P(function(){var t=m.current,e=window;!function(e,n,i){t.width=e*i,t.height=n*i;var a=t.getContext("2d"),r=new Et(a);g.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]),Object(i.useEffect)(function(){var t=u.current,e=h.current,i=f.current,a=g.current,o=Math.floor(r/2);o<1?o=1:o>30&&(o=30);for(var s=0;s<o;)e.add(),s+=1;e.tick(),t.dresser.tick(n),a.tick(),i.tick();var l=c.current;l.getContext("2d").clearRect(0,0,l.width,l.height),e.render()},[e]),a.a.createElement("div",{className:"rain"},a.a.createElement("canvas",{ref:o}),a.a.createElement("canvas",{ref:c}),a.a.createElement("canvas",{ref:l}),a.a.createElement("canvas",{ref:v}),a.a.createElement("canvas",{ref:m}))})),It=(n(43),b(function(){return a.a.createElement("div",{className:"mobile-disabled"},a.a.createElement("div",{className:"content"},a.a.createElement("img",{id:"desktop-icon",src:"/late/assets/images/desktop.png"}),a.a.createElement("div",{id:"message"},"Sorry, this visualization cannot be viewed on a mobile device.")))}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[{component:St},{component:nt,options:{smoothing:128}},{component:S},{component:A,options:{smoothing:64}},{component:B}]),Ct=It.map(function(t){return function(e){e.style;var n=Object(f.a)(e,["style"]);return a.a.createElement(m.a.div,{className:"visualization",style:e.style},a.a.createElement(t.component,Object.assign({},n,{options:t.options})))}}),At=Object(s.b)(function(t){return{currentIndex:t.currentVisualizationIndex,prevIndex:t.prevVisualizationIndex}})(function(t){var e=t.data,n=t.lowPassData,r=t.prevIndex,o=t.currentIndex,s=j(o,It.length),c=Object(i.useCallback)(function(t,e){var n=0;return t<e?n=1:e<t&&(n=-1),"translate3d(".concat(100*n,"%, 0, 0)")},[]),h=Object(m.d)(s,null,{from:{transform:c(o,r)},enter:{transform:c()},leave:{transform:c(r,o)},initial:{transform:c(0,-1)}});return a.a.createElement(a.a.Fragment,null,h.map(function(t){var i=t.item,r=t.props,o=t.key,s=Ct[i];return a.a.createElement(s,{key:o,data:e,lowPassData:n,style:r})}))}),Rt=function(t){var e=t.audioContext,n=t.audioSource,r=Object(i.useState)(new Uint8Array),o=Object(v.a)(r,2),s=o[0],c=o[1],h=Object(i.useState)(new Uint8Array),l=Object(v.a)(h,2),u=l[0],d=l[1],f=Object(i.useRef)();return Object(i.useEffect)(function(){var t=e.createAnalyser();t.fftSize=512,t.smoothingTimeConstant=0,n.connect(t),t.connect(e.destination);var i=e.createBiquadFilter();i.type="lowpass";var a=e.createAnalyser();return a.fftSize=512,a.smoothingTimeConstant=0,n.connect(i),i.connect(a),f.current=window.requestAnimationFrame(function e(){var n=new Uint8Array(512);t.getByteTimeDomainData(n),c(n);var i=new Uint8Array(512);a.getByteTimeDomainData(i),d(i),f.current=window.requestAnimationFrame(e)}),function(){null!=f.current&&window.cancelAnimationFrame(f.current),t&&t.disconnect(),a&&a.disconnect(),n&&n.disconnect()}},[e,n]),a.a.createElement(At,{data:s,lowPassData:u})},Wt=(n(44),function(t){var e=t.isShown,n=void 0===e||e;return a.a.createElement("div",{className:C()("loading",{show:n})},a.a.createElement("span",{className:"loading-dot"}),a.a.createElement("span",{className:"loading-dot"}),a.a.createElement("span",{className:"loading-dot"}))}),Ht=n(27),Ft=(n(45),Object(s.b)(null,function(t){return{goToNextVisualization:function(){return t({type:c.GO_TO_NEXT_VISUALIZATION})},goToPrevVisualization:function(){return t({type:c.GO_TO_PREV_VISUALIZATION})}}})(function(t){var e=Object(i.useState)(!0),n=Object(v.a)(e,2),r=n[0],o=n[1],s=Object(i.useState)(!1),c=Object(v.a)(s,2),h=c[0],l=c[1],u=Object(i.useRef)(),d=Object(i.useRef)();Object(i.useEffect)(function(){var e=function(e){switch(e.which){case 37:case 38:t.goToPrevVisualization();break;case 39:case 40:t.goToNextVisualization()}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[]);var f=Object(i.useCallback)(function(){null!=u.current&&window.clearTimeout(u.current),o(!0),u.current=window.setTimeout(function(){h||o(!1)},1500)},[h]),m=Object(i.useCallback)(function(){t.audioContext&&t.audioContext.resume(),t.togglePlay(),f()},[t.audioContext,t.togglePlay]),g=Object(i.useCallback)(function(t){t.preventDefault(),d.current={timestamp:Date.now(),x:t.touches[0].clientX}},[]),b=function(){return window.open("https://github.com/blackwright/late")},w=Object(i.useCallback)(function(t){1===t.nativeEvent.which&&(d.current={timestamp:Date.now(),x:t.clientX})},[]),y=Object(i.useCallback)(function(t){1===t.nativeEvent.which&&d.current&&Date.now()-d.current.timestamp<250&&m()},[]),p=Object(i.useCallback)(function(e){if(e.preventDefault(),d.current&&Date.now()-d.current.timestamp<250&&f(),d.current&&Date.now()-d.current.timestamp<350){var n=e.changedTouches[0].clientX-d.current.x;Math.abs(n)>50&&(n<0?t.goToPrevVisualization():t.goToNextVisualization())}},[h]),O=Object(i.useCallback)(function(e){console.log("onPrev"),t.goToPrevVisualization(),f()},[h]),k=Object(i.useCallback)(function(e){t.goToNextVisualization(),f()},[h]),x=Object(i.useCallback)(function(){return l(!0)},[]),j=Object(i.useCallback)(function(){return l(!1)},[]),T=t.wantsToPlay,M=t.isPlaying;return a.a.createElement(a.a.Fragment,null,T&&!M&&a.a.createElement(Wt,null),a.a.createElement("div",{id:"overlay",onTouchStart:g,onTouchEnd:p,onMouseMove:f,className:C()({show:r})},a.a.createElement("h1",{id:"title",onClick:b,onTouchEnd:b,onMouseEnter:x,onMouseLeave:j},"late"),a.a.createElement("div",{id:"version"},"build ",Ht.a),a.a.createElement("div",{onMouseDown:w,onMouseUp:y,onTouchEnd:m,onMouseEnter:x,onMouseLeave:j,className:C()({play:!T&&!M,pause:T&&M})}),a.a.createElement("div",{className:"navigation"},a.a.createElement("div",{className:"arrow-container",onTouchEnd:O,onMouseUp:O,onMouseEnter:x,onMouseLeave:j},a.a.createElement("svg",{className:"arrow",width:"60px",height:"80px",viewBox:"0 0 50 80"},a.a.createElement("polyline",{fill:"none",stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"45.63,75.8 0.375,38.087 45.63,0.375"}))),a.a.createElement("div",{className:"arrow-container",onTouchEnd:k,onMouseUp:k,onMouseEnter:x,onMouseLeave:j},a.a.createElement("svg",{className:"arrow",width:"60px",height:"80px",viewBox:"0 0 50 80"},a.a.createElement("polyline",{fill:"none",stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"0.375,0.375 45.63,38.087 0.375,75.8"}))))))})),Nt=["assets/audio/sky-high-jsan-cold-days.mp3","assets/audio/kudasai-the-girl.mp3","assets/audio/B\xd8JET-lost.mp3","assets/audio/philanthrope-carwash.mp3","assets/audio/kudasai-technicolor.mp3"],Dt=function(){var t=Object(i.useState)(!1),e=Object(v.a)(t,2),n=e[0],r=e[1],o=Object(i.useState)(!1),s=Object(v.a)(o,2),c=s[0],h=s[1],l=function(t){var e=Object(i.useState)(t),n=Object(v.a)(e,2),a=n[0],r=n[1],o=Object(i.useRef)(a);return Object(i.useEffect)(function(){o.current=a},[a]),[a,r,o]}(void 0),u=Object(v.a)(l,3),d=u[0],f=u[1],m=u[2],g=Object(i.useState)(),b=Object(v.a)(g,2),w=b[0],y=b[1],p=Object(i.useRef)(0),O=Object(i.useRef)(null);Object(i.useEffect)(function(){var t=O.current,e=function(){return h(!0)},n=function(){return h(!1)},i=console.error,a=function(){var e=j(p.current+1,Nt.length);t.src=Nt[e],t.play(),p.current=e};return t.addEventListener("playing",e),t.addEventListener("pause",n),t.addEventListener("error",i),t.addEventListener("ended",a),function(){t.removeEventListener("playing",e),t.removeEventListener("pause",n),t.removeEventListener("error",i),t.removeEventListener("ended",a)}},[]);var k=Object(i.useCallback)(function(){var t=O.current,e=new(window.AudioContext||window.webkitAudioContext),n=e.createMediaElementSource(t);f(e),y(n)},[O.current]),x=Object(i.useCallback)(function(){var t=O.current;t.paused?(r(!0),t.play(),m.current||k()):(r(!1),t.pause())},[O.current]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("audio",{ref:O,id:"audioElement",src:Nt[0],preload:"auto",crossOrigin:"anonymous"}),d&&w&&a.a.createElement(Rt,{audioContext:d,audioSource:w}),a.a.createElement(Ft,{audioContext:d,wantsToPlay:n,isPlaying:c,togglePlay:x}))};n(46),n(47);o.a.render(a.a.createElement(s.a,{store:d},a.a.createElement(Dt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.a98ae7a4.chunk.js.map