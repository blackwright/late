(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(t){t.exports={a:80}},28:function(t,e,n){t.exports=n(50)},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(18),o=n.n(r),s=n(10);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,l=n(19),h=n(16);!function(t){t.BEGIN_VISUALIZATION_TRANSITION="BEGIN_VISUALIZATION_TRANSITION",t.END_VISUALIZATION_TRANSITION="END_VISUALIZATION_TRANSITION",t.GO_TO_PREV_VISUALIZATION="GO_TO_PREV_VISUALIZATION",t.GO_TO_NEXT_VISUALIZATION="GO_TO_NEXT_VISUALIZATION",t.SET_QUALITY="SET_QUALITY"}(c||(c={}));var u={currentVisualizationIndex:0,prevVisualizationIndex:0,quality:2};var d=Object(l.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c.GO_TO_NEXT_VISUALIZATION:return Object(h.a)({},t,{currentVisualizationIndex:t.currentVisualizationIndex+1,prevVisualizationIndex:t.currentVisualizationIndex});case c.GO_TO_PREV_VISUALIZATION:return Object(h.a)({},t,{currentVisualizationIndex:t.currentVisualizationIndex-1,prevVisualizationIndex:t.currentVisualizationIndex});case c.SET_QUALITY:return Object(h.a)({},t,{quality:e.quality});default:return t}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),v=n(9),f=n(20),m=n(11),g=(n(37),{data:new Uint8Array,lowPassData:new Uint8Array,options:{},quality:2});function b(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=e.data,r=e.lowPassData,o=e.options,s=e.quality,c=Object(a.useRef)([]),l=Object(a.useRef)([]),h=Object(a.useRef)(Date.now()),u=0,d=0,v=n.map(function(t,e){u+=Math.abs(t-128);var a=r[e];if(d+=Math.abs(a-128),null!=o&&o.smoothing){for(var i=0,s=0,c=e-o.smoothing;c<e+o.smoothing;){i+=n[c]||128,s+=1,c+=1}return i/s}return t}),f=0,m=0,b=0,y=0;c.current.forEach(function(t,e){t>f&&(f=t);var n=l.current[e];m+=n,b+=1,n>y&&(y=n)});var w=u/n.length,p=m/b||0,O=d/r.length;c.current=c.current.concat(w),l.current=l.current.concat(O),Date.now()-h.current>2e3&&(c.current.shift(),l.current.shift());var T=O>1.5*p;return i.a.createElement(t,{data:v,lowPassData:r,isBeat:T,intensity:w,lowPassIntensity:O,quality:s})}}var y=n(14),w=[["#0E9AA7","#F6CD61","#FE8A71"],["#EE4540","#801336","#2D142C"],["#8FB9A8","#FDFBD4","#FCD0BA"],["#AC6D83","#685D79","#465C7A"],["#F36E38","#EF4648","#582841"],["#F1F1F1","#9BD7D1","#305D7A"],["#DEA5B6","#F3CD8C","#F2E9C2"],["#E27B47","#EFCA58","#46B29E"],["#2E7345","#2E9975","#2DB3B3"],["#52A3CC","#7EA1E5","#AAAAF2"],["#CC5285","#CC5285","#F2BCAA"],["#D8E0BB","#B6CEC7","#86A3C3"]];w.map(function(t,e){return{id:e,colorTriple:t}});function p(){return w[Math.floor(Math.random()*w.length)]}function O(t,e){for(var n=[];n.length<t;){var a=p(),i=a[Math.floor(Math.random()*a.length)];if(e&&n.includes(i))break;n.push(i)}return n}function T(){return O(1)[0]}function k(){var t=Object(y.a)(p());return Math.random()<=.5?t.reverse():t}function x(t,e){return(t%e+e)%e}function j(t){return 0===x(t,1)}function M(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(j(t)&&j(e))return t+Math.floor(Math.random()*(e-t));var a=t+Math.random()*(e-t);return Number(a.toPrecision(n))}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=this,c=n&&null==a;null!=a&&window.clearTimeout(a),a=window.setTimeout(function(){a=null,n||t.apply(s,r)},e),c&&t.apply(s,r)}}function P(t,e){Object(a.useEffect)(function(){t();var e=E(t);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},e)}n(38);var S=b(function(t){var e=t.data,n=t.quality,r=Object(a.useRef)(null);return P(function(){var t=window,e=t.innerWidth,n=t.innerHeight,a=t.devicePixelRatio,i=void 0===a?1:a,o=r.current;o.width=e*i,o.height=n*i;var s=o.getContext("2d");s.fillStyle="#101010",s.fillRect(0,0,o.width,o.height)},[]),Object(a.useEffect)(function(){var t=r.current,e=t.getContext("2d"),n=window.setInterval(function(){e.fillStyle="rgba(0, 0, 0, 0.05)",e.fillRect(0,0,t.width,t.height)},7);return function(){return window.clearInterval(n)}},[]),Object(a.useEffect)(function(){var t=r.current,a=t.getContext("2d");a.lineWidth=10,a.lineCap="round";var i=function(t){switch(t){case 3:return k();case 2:return O(2,!0);case 1:return[T()];default:return k()}}(n+1),o=t.width/e.length;i.forEach(function(n,r){a.strokeStyle=n,a.beginPath();var s=0*r;a.moveTo(s,t.height/2),e.forEach(function(e){var n=e/255*t.height-5*i.length/2;a.lineTo(s,n+r*(5*i.length/2)),s+=o}),a.lineTo(s,t.height/2),a.stroke()})},[e]),i.a.createElement("div",{className:"waveform"},i.a.createElement("div",{className:"backdrop"}),i.a.createElement("canvas",{ref:r}))}),I=n(12),C=n.n(I),R=(n(39),{0:{NUM_DRUMMERS:6},1:{NUM_DRUMMERS:10},2:{NUM_DRUMMERS:16}}),A=b(function(t){var e=t.data,n=t.isBeat,r=t.quality,o=Object(a.useState)(0),s=Object(v.a)(o,2),c=s[0],l=s[1],u=Object(a.useState)(0),d=Object(v.a)(u,2),g=d[0],b=d[1],y=Object(a.useRef)({values:[T()],lastChangedTimestamp:Date.now()});P(function(){var t=window,e=t.innerWidth,n=t.innerHeight,a=Math.max(e,n);l(2*a);var i=Math.sqrt(Math.pow(e,2)+Math.pow(n,2));b(i)},[]);for(var w=y.current,p=R[r].NUM_DRUMMERS,O={},k=256/p,x=0;x<p;)O[x]=0,x+=1;e.forEach(function(t){for(var e=0;e<p;){var n=k*(e+1);if(Math.abs(t-128)>10&&t<=n){O[e]+=1;break}e+=1}});var j=Date.now();if(n&&j-w.lastChangedTimestamp>200){var M;do{M=T()}while(w.values[w.values.length-1]===M);w.values.push(M),w.values.length>1&&w.values.shift(),w.lastChangedTimestamp=j}var E=Object.entries(O).map(function(t,e){var n=Object(v.a)(t,2),a=n[0],r=n[1],o=(+a+1)*c/p;return i.a.createElement("div",{key:a,className:"drummer-container",style:{width:"".concat(o,"px"),height:"".concat(o,"px"),opacity:(p-e)/p*.5*.25}},i.a.createElement("div",{className:C()("beat",{hit:r>10.24})}))}),S=c/(2*p),I=Object(m.d)(w.values,null,{from:function(t){return{backgroundColor:t,width:S,height:S,scale:1}},enter:{scale:g/S*1.5},leave:{scale:0},config:m.b.slow});return i.a.createElement("div",{className:"drummer"},E,I.map(function(t){t.item;var e=t.props,n=t.key,a=e,r=a.scale,o=Object(f.a)(a,["scale"]);return i.a.createElement(m.a.div,{className:"color-overlay",key:n,style:Object(h.a)({},o,{transform:Object(m.c)([r],function(t){return"translate3d(0, 0, 0) scale(".concat(t,")")})})})}))}),W=n(2);var _=1500,H=200,N=.025,D=-.3,L=.3,F={0:{sphereSegments:30},1:{sphereSegments:48},2:{sphereSegments:72}};function U(t,e){var n,a,i=Date.now(),r=0,o=(a=F[e].sphereSegments,new W.p(48,a,a)),s=function(t){var e=new W.p(t.parameters.radius,t.parameters.widthSegments,t.parameters.heightSegments).vertices,n=new Float32Array(3*e.length);e.forEach(function(t,e){t.toArray(n,3*e)});var a=new W.c;a.addAttribute("position",new W.b(n,3)),a.attributes.position.dynamic=!0;var i=new W.m({size:.5,map:(new W.q).load("assets/images/point.png"),alphaTest:.5,color:6710886,transparent:!0});return new W.l(a,i)}(o),c=function(t){var e=new W.j(75,window.innerWidth/window.innerHeight,.1,1e3);return e.position.set(0,t,0),e.lookAt(new W.r(0,0,0)),e}(H),l=function(){var t=window,e=t.innerWidth,n=t.innerHeight,a=new W.s({alpha:!0});return a.setPixelRatio(window.devicePixelRatio),a.setSize(e,n),a.setClearColor(0,0),a}();t.appendChild(l.domElement);var h=new W.n;h.add(s);var u=new W.d,d=E(function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight),l.render(h,c)});function v(){"hidden"===document.visibilityState?u.stop():u.start()}return window.addEventListener("resize",d),document.addEventListener("visibilitychange",v),{clock:u,sphereGeometry:o,halpern:s,animate:function t(){var e=u.getDelta();s.rotateY(D*e),Date.now()-i>_&&s.rotateX(L*e),(r+=e)>=2*Math.PI&&(r=0),c.translateY(Math.cos(r)*N),c.translateX(Math.cos(r)*N),c.translateZ(Math.cos(r)*N*5),l.render(h,c),n=window.requestAnimationFrame(t)},cleanup:function(){window.cancelAnimationFrame(n),window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",v),t.removeChild(l.domElement),h.remove(s),s.geometry.dispose(),s.material.dispose(),o.dispose()}}}n(40);var B={0:{RIPPLE_SPEED:2},1:{RIPPLE_SPEED:3},2:{RIPPLE_SPEED:4}},z=b(function(t){var e=t.data,n=t.quality,r=Object(a.useRef)(null),o=Object(a.useRef)(),s=Object(a.useRef)(),c=Object(a.useRef)(),l=Object(a.useRef)(),h=Object(a.useRef)(new Array(e.length).fill(128));return Object(a.useEffect)(function(){var t=U(r.current,n);o.current=t;var a=t.halpern.geometry;return c.current=Math.floor(e.length/t.sphereGeometry.parameters.widthSegments),l.current=(t.sphereGeometry.vertices.length-2)/(t.sphereGeometry.parameters.widthSegments-1),s.current=a.attributes.position.array.slice(0),t.clock.start(),t.animate(),t.cleanup},[n]),Object(a.useEffect)(function(){var t=B[n].RIPPLE_SPEED,a=Math.floor(e.length/2);h.current.splice(0,t),h.current=h.current.concat(new Array(t).fill(e[a]));for(var i=o.current.halpern.geometry,r=i.getAttribute("position").array,u=0;u<s.current.length;){var d=Math.ceil(Math.floor(u/3)/l.current),v=d*c.current,f=Math.min(d,l.current-d),m=Math.abs(h.current[v]-128)/255*f*.1+1;r[u]=s.current[u]*m,r[u+1]=s.current[u+1]*m,r[u+2]=s.current[u+2]*m,u+=3}i.getAttribute("position").needsUpdate=!0},[e]),i.a.createElement("div",{className:"halpern",ref:r})});var q="\nattribute float alpha;\nvarying float vAlpha;\n\nvoid main() {\n  vAlpha = alpha;\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_PointSize = 4.0 * alpha;\n  gl_Position = projectionMatrix * mvPosition;\n}\n",V="\nuniform vec3 color;\nvarying float vAlpha;\n\nvoid main() {\n  float r = 0.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n  if (r > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, vAlpha);\n}\n";function X(){var t=Math.random()<.5?"cloud.png":"smoke.png",e=new W.k(50,50),n=new W.i({map:(new W.q).load("assets/images/".concat(t)),transparent:!0,opacity:.15,depthTest:!1});e.rotateZ(360*Math.random());var a=new W.h(e,n),i=15*Math.random()+10;return a.position.set(100*Math.random()-50,100*Math.random()-50,Math.random()<.5?i:-i),a}function G(t,e){return new W.f(t,e)}var Z=1,Y=.2,Q=.75,K=.025,J=.001,$=50358,tt=13697058,et={0:{STAR_COUNT:5e3,CLOUD_COUNT:20},1:{STAR_COUNT:1e4,CLOUD_COUNT:40},2:{STAR_COUNT:2e4,CLOUD_COUNT:65}};function nt(t,e,n){var a,i=function(){var t=window,e=t.innerWidth,n=t.innerHeight,a=new W.s({antialias:!0});return a.setPixelRatio(window.devicePixelRatio),a.setSize(e,n),a.setClearColor(15,1),a}();t.appendChild(i.domElement);var r=new W.j(50,window.innerWidth/window.innerHeight,1,1e3),o=new W.n,s=function(t){for(var e=new W.c,n=new Float32Array(3*t),a=0;a<t;)n[a++]=100*Math.random()-50,n[a++]=100*Math.random()-50,n[a++]=100*Math.random()-50;e.addAttribute("position",new W.b(n,3));for(var i=new Float32Array(1*e.attributes.position.count),r=0;r<i.length;)i[r]=Math.random(),r+=1;e.addAttribute("alpha",new W.b(i,1));var o=new W.o({uniforms:{color:{type:"c",value:new W.e(16777215)}},vertexShader:q,fragmentShader:V,transparent:!0});return new W.l(e,o)}(et[e].STAR_COUNT);o.add(s);for(var c=new W.g,l=0;l<=et[e].CLOUD_COUNT;){var h=X();c.add(h),l+=1}o.add(c);var u,d,v=(u=16777215,d=n,new W.a(u,d));o.add(v);var f=G($,2);f.position.set(0,0,1),o.add(f);var m=G(tt,n);m.position.set(0,0,1),o.add(m);for(var g=s.geometry.attributes.alpha,b=new Float32Array(g.count),y=0;y<b.length;y++)b[y]=Math.random()<.5?1:-1;var w=new W.d,p=E(function(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),i.render(o,r)});function O(){"hidden"===document.visibilityState?w.stop():w.start()}return window.addEventListener("resize",p),document.addEventListener("visibilitychange",O),{clock:w,animate:function t(){var e=w.getDelta();s.rotateX(J*e),s.rotateY(K*e),c.rotateX(24*J*e),c.rotateY(2*K*e),c.rotateZ(3*J*e),c.children.forEach(function(t){t.lookAt(r.position)});for(var n=0;n<g.count;n++)b[n]>0?(g.array[n]*=1+Q*e,g.array[n]>Z&&(b[n]=-1)):(g.array[n]*=1-Q*e,g.array[n]<Y&&(b[n]=1));g.needsUpdate=!0,i.render(o,r),a=window.requestAnimationFrame(t)},cleanup:function(){window.cancelAnimationFrame(a),window.removeEventListener("resize",p),document.removeEventListener("visibilitychange",O),t.removeChild(i.domElement),o.remove(s),s.geometry.dispose(),s.material.dispose(),o.remove(c),c.children.forEach(function(t){t.geometry.dispose(),t.material.dispose()})},dLight:m}}n(41);var at=b(function(t){var e=t.data,n=t.intensity,r=t.quality,o=Object(a.useRef)(null),s=Object(a.useRef)(),c=Object(a.useRef)(Date.now());return Object(a.useEffect)(function(){var t=nt(o.current,r,1);return s.current=t,t.clock.start(),t.animate(),t.cleanup},[r]),Object(a.useEffect)(function(){var t=Date.now();if(!(t-c.current<=75)){var e=s.current.dLight,a=e.intensity,i=n/2||1;i-a>2.5&&(i=a+2.5),e.intensity=i,c.current=t}},[e]),i.a.createElement("div",{className:"stars",ref:o})}),it=n(3),rt=n(4),ot=n(5),st=n(1),ct=n(8),lt=n(6),ht=50,ut=function(){function t(e){Object(it.a)(this,t),this.ctx=e,this.canvasWidth=void 0,this.canvasHeight=void 0,this.oneThirdCanvasWidth=void 0,this.oneHalfCanvasHeight=void 0,this.windowFrameThickness=void 0,this.roundedRadius=void 0,this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.oneThirdCanvasWidth=this.canvasWidth/3,this.oneHalfCanvasHeight=this.canvasHeight/2,this.windowFrameThickness=Math.floor(Math.max(this.canvasWidth,this.canvasHeight)/ht),this.roundedRadius=Math.floor(this.windowFrameThickness/3),e.save()}return Object(rt.a)(t,[{key:"render",value:function(){this.ctx.restore()}},{key:"tick",value:function(t){}}]),t}(),dt=function(){function t(e){Object(it.a)(this,t),this.ctx=void 0,this.canvasHeight=void 0,this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.color=void 0,this.lights=[],this.ctx=e.ctx,this.canvasHeight=e.canvasHeight,this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.color=e.color}return Object(rt.a)(t,[{key:"generateLights",value:function(){for(var t=this.canvasHeight,e=this.width,n=this.height,a=M(.01,.025)*n,i=M(.01,.03)*n,r=M(3,10),o=M(.05,.1)*e,s=M(.025,.1)*n,c=M(.01,.05)*e,l=(this.width-2*o-c*(r-1))/r,h=[],u=this.x+o,d=this.y+s;d<.98*t;)u>=this.x+this.width-o?(u=this.x+o,d+=a+i):(h.push({x:u,y:d,width:l,height:a,isOn:Math.random()>.4}),u+=l+c);this.lights=h}},{key:"render",value:function(){var t=this.ctx,e=this.x,n=this.y,a=this.width,i=this.height,r=this.color;t.save(),t.fillStyle=r,t.fillRect(e,n,a,i),t.fillStyle="rgb(255, 255, 255)";var o=!0,s=!1,c=void 0;try{for(var l,h=this.lights[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var u=l.value;u.isOn&&t.fillRect(u.x,u.y,u.width,u.height)}}catch(d){s=!0,c=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw c}}t.restore()}}]),t}(),vt=function(t){function e(t){var n;return Object(it.a)(this,e),(n=Object(ot.a)(this,Object(st.a)(e).call(this,t))).layers=[],n.generateBuildings(),n}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"generateBuildings",value:function(){for(var t=this,e=this.ctx,n=this.canvasWidth,a=this.canvasHeight,i=function(i){for(var r=[],o=0;o<n;){var s=M(.08,.15,2)*n,c=M(.3,.95,2)*a,l=M(.02,.05)*n,h=new dt({y:a-c,color:T(),ctx:e,canvasHeight:a,x:o,width:s,height:c});r.push(h),o+=s+l}var u=r[0],d=M(.25*u.width,.75*u.width);r.forEach(function(t){return t.x-=d}),t.layers.push(r)},r=0;r<4;r++)i()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this);for(var t=this.ctx,n=this.canvasWidth,a=this.canvasHeight,i=this.layers,r=0;r<i.length;r++){var o=i[r];o.forEach(function(t){return t.generateLights()});var s=!0,c=!1,l=void 0;try{for(var h,u=o[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){h.value.render()}}catch(d){c=!0,l=d}finally{try{s||null==u.return||u.return()}finally{if(c)throw l}}t.fillStyle="rgba(65, 35, 66, 0.6)",t.fillRect(0,0,n,a)}}}]),e}(ut),ft=15,mt=function(){function t(e,n,a,i,r){Object(it.a)(this,t),this.ctx=e,this.canvasHeight=n,this.x=a,this.y=i,this.height=r,this.createdDate=void 0,this.createdDate=Date.now()}return Object(rt.a)(t,[{key:"tick",value:function(t){var e=t-this.createdDate;this.y=Math.floor(e/400*this.canvasHeight)}},{key:"render",value:function(){var t=this.ctx,e=this.x,n=this.y,a=this.height;t.strokeStyle="#788",t.lineWidth=1,t.beginPath(),t.moveTo(e,n),t.lineTo(e,n+a),t.stroke()}}]),t}(),gt=function(){function t(e){Object(it.a)(this,t),this.ctx=e,this.raindrops=[],this.raindropHeight=void 0,this.canvasWidth=void 0,this.canvasHeight=void 0,this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.raindropHeight=Math.floor(this.canvasHeight/ft)}return Object(rt.a)(t,[{key:"tick",value:function(){for(var t=this.raindrops,e=this.canvasHeight,n=Date.now(),a=t.length-1;a>=0;a--){var i=t[a];i.tick(n),i.y>=e&&t.splice(a,1)}}},{key:"add",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,a=this.raindrops,i=this.raindropHeight,r=Math.floor(Math.random()*(e-1)+1),o=-n/ft;a.push(new mt(t,n,r,o,i))}},{key:"render",value:function(){this.raindrops.forEach(function(t){return t.render()})}}]),t}(),bt=function(t){function e(t){return Object(it.a)(this,e),Object(ot.a)(this,Object(st.a)(e).call(this,t))}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this);var t=this.ctx,n=this.canvasWidth,a=this.canvasHeight,i=this.ctx.createLinearGradient(0,0,0,a);i.addColorStop(0,"#181623"),i.addColorStop(1,"#111019"),t.fillStyle=i,t.fillRect(0,0,n,a)}}]),e}(ut),yt={tl:0,tr:0,br:0,bl:0};function wt(t,e,n,a,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yt,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];t.beginPath(),t.moveTo(e+r.tl,n),t.lineTo(e+a-r.tr,n),t.quadraticCurveTo(e+a,n,e+a,n+r.tr),t.lineTo(e+a,n+i-r.br),t.quadraticCurveTo(e+a,n+i,e+a-r.br,n+i),t.lineTo(e+r.bl,n+i),t.quadraticCurveTo(e,n+i,e,n+i-r.bl),t.lineTo(e,n+r.tl),t.quadraticCurveTo(e,n,e+r.tl,n),t.closePath(),t.fill(),o&&t.stroke()}var pt=function(t){function e(t){return Object(it.a)(this,e),Object(ot.a)(this,Object(st.a)(e).call(this,t))}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this);var t=this.ctx,n=this.oneThirdCanvasWidth,a=this.oneHalfCanvasHeight,i=this.windowFrameThickness;t.fillStyle="#3D1A1E",t.fillRect(n-i,a/2-i,n+2*i,a+2*i),t.clearRect(n,a/2,n,a);var r=Math.floor(i/2),o=4*n/3-2*r/3,s=5*n/3-r/3,c=a/2-i,l=n-i,h=5*a/6-2*r/3,u=7*a/6-r/3;t.fillRect(o,c,r,a+2*i),t.fillRect(s,c,r,a+2*i),t.fillRect(l,h,n+2*i,r),t.fillRect(l,u,n+2*i,r),t.fillStyle="#682634",t.fillRect(n-2*i,a/2-2*i,n+4*i,i-1),wt(t,n-2*i,3*a/2+i+1,n+4*i,i,{tl:0,tr:0,bl:this.roundedRadius,br:this.roundedRadius}),t.lineWidth=2,t.strokeStyle="#682634",t.rect(n-2*i/3,a/2-2*i/3,n+4*i/3,a+4*i/3),t.stroke(),t.rect(n-5*i/9,a/2-5*i/9,n+10*i/9,a+10*i/9),t.stroke()}}]),e}(ut),Ot=function(t){function e(t){return Object(it.a)(this,e),Object(ot.a)(this,Object(st.a)(e).call(this,t))}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"dresser",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,a=this.windowFrameThickness,i=2*e/3+5*a,r=2*n/3;t.fillStyle="#122C2B",t.fillRect(i,r,e,n),t.strokeStyle="#091c1b",t.lineWidth=3,t.beginPath(),t.rect(i+a,r+a,e,n),t.stroke();var o=i+a+3*(e-(i+a))/5;t.beginPath(),t.moveTo(o,r+2.5*a),t.lineTo(e,r+2.5*a),t.lineWidth=2*a/3,t.stroke(),t.beginPath(),t.moveTo(i+a,r+6*a),t.lineTo(e,r+6*a),t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(o,r+7.5*a),t.lineTo(e,r+7.5*a),t.lineWidth=2*a/3,t.stroke()}},{key:"stereo",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,a=this.windowFrameThickness,i=3.5*a,r=.2*n,o=2*e/3+5*a+4*a,s=2*n/3-r;t.fillStyle="#222",t.fillRect(o,s,i,r);var c=Math.min(i,r)/8,l=o+i/2,h=s+2*c;t.fillStyle="#111",t.beginPath(),t.arc(l,h,c,0,2*Math.PI),t.fill();var u=a/10;t.fillStyle="#111",t.fillRect(o-u,s,u,r),t.fillRect(o+i,s,u,r);var d=o+i+u,v=.8*r,f=s+r-v;t.fillStyle="#222",t.fillRect(d,f,e,v);var m=d+a/2;t.fillStyle="#444",t.strokeStyle="#111",t.lineWidth=a/8,t.beginPath(),t.rect(m,f+1.5*a,e,.25*v),t.fill(),t.stroke(),t.fillStyle="#111",t.fillRect(m,f+a,e,a/4);var g=f+v-.8*a;t.fillRect(d+2*a,g,e,a/4),t.fillStyle="#444";var b=a/2,y=d+a,w=g+a/8;t.beginPath(),t.arc(y,w,b,0,2*Math.PI),t.fill(),t.clip(),t.save(),t.translate(y,w);var p=.75*Math.PI,O={x:Math.sin(p)*(b-a/4),y:Math.cos(p)*(b-a/4)},T={x:Math.sin(p)*b*2,y:Math.cos(p)*b*2};t.lineWidth=a/8,t.lineCap="round",t.beginPath(),t.moveTo(O.x,O.y),t.lineTo(T.x,T.y),t.stroke(),t.restore(),t.restore()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.dresser(),this.stereo(),this.tick()}},{key:"tick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.ctx,n=this.canvasWidth,a=this.canvasHeight,i=this.windowFrameThickness,r=3.5*i,o=.2*a,s=2*n/3+5*i+4*i,c=2*a/3-o,l=Math.min(r,o)/8,h=s+r/2,u=Math.min(r,o)/2.5,d=Math.max(c+u+4*l,c+o-(u+2*l));e.strokeStyle="#444",e.fillStyle="#222",e.lineWidth=i/8,e.beginPath(),e.arc(h,d,u,0,2*Math.PI),e.fill(),e.stroke(),e.fillStyle="#111",e.beginPath(),e.arc(h,d,t?.63*u:.6*u,0,2*Math.PI),e.fill()}}]),e}(ut),Tt=n(7),kt=function(t){function e(t){var n;Object(it.a)(this,e),(n=Object(ot.a)(this,Object(st.a)(e).call(this,t))).pictures=[];var a=Object(Tt.a)(Object(Tt.a)(n)),i=a.oneThirdCanvasWidth,r=a.windowFrameThickness;return n.pictures.push({x:3*i/4-4*r,y:-r,width:4*r,height:5*r}),n.pictures.push({x:n.pictures[0].x-7*r,y:2*r,width:5*r,height:4*r}),n.pictures.push({x:n.pictures[1].x+2*r,y:n.pictures[1].y+n.pictures[1].height+1.5*r,width:6*r,height:8*r}),n}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"graph",value:function(){var t=this.ctx,e=this.windowFrameThickness,n=this.pictures[0],a=n.x,i=n.y,r=n.width,o=n.height;t.save(),t.beginPath(),t.rect(a,i,r,o),t.clip();var s=t.createLinearGradient(a,i,a,i+o);s.addColorStop(0,"#24131f"),s.addColorStop(1,"#051b1f"),t.fillStyle=s,t.fill();for(var c=[],l=e/6,h=0;h<20;h++)c.push({x:Math.floor(Math.random()*r+a),y:Math.floor(Math.random()*o+i)});var u,d;for(t.fillStyle="#703c3a",t.strokeStyle="#703c3a",t.lineWidth=1;c.length;){var v=c.pop();t.beginPath(),t.arc(v.x,v.y,l/2,0,2*Math.PI),t.fill();for(var f=0;f<c.length;f++){var m=c[f];u=v,d=m,Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2))<o/4&&(t.beginPath(),t.moveTo(v.x,v.y),t.lineTo(m.x,m.y),t.stroke())}}t.strokeStyle="#122C2B",t.lineWidth=e/1.5,t.beginPath(),t.rect(a,i,r,o),t.stroke(),t.restore()}},{key:"orbits",value:function(){var t=this.ctx,e=this.windowFrameThickness,n=this.pictures[1],a=n.x,i=n.y,r=n.width,o=n.height;t.save(),t.beginPath(),t.rect(a,i,r,o),t.clip();var s=t.createLinearGradient(a,i,a,i+o);s.addColorStop(0,"#556e53"),s.addColorStop(1,"#29435c"),t.fillStyle=s,t.fill();t.fillStyle="#879591",t.strokeStyle="#879591",t.beginPath(),t.arc(a+r/2,i+o/2,o/14,0,2*Math.PI),t.fill();for(var c=Math.floor(o/6);c<=o/2;c+=e/4){t.beginPath(),t.arc(a+r/2,i+o/2,c,0,2*Math.PI),t.stroke();var l=Math.random()*Math.PI*2,h=a+r/2+Math.cos(l)*c,u=i+o/2+Math.sin(l)*c,d=Math.random()*(r/64)+r/192;t.beginPath(),t.arc(h,u,d,0,2*Math.PI),t.fill()}t.strokeStyle="#152a38",t.lineWidth=e/1.2,t.beginPath(),t.rect(a,i,r,o),t.stroke(),t.restore()}},{key:"stars",value:function(){var t=this.ctx,e=this.windowFrameThickness,n=this.pictures[2],a=n.x,i=n.y,r=n.width,o=n.height;t.save(),t.beginPath(),t.rect(a,i,r,o),t.clip();var s=t.createLinearGradient(a,i,a,i+o);s.addColorStop(0,"#09325E"),s.addColorStop(.75,"#2A2A47"),t.fillStyle=s,t.fill(),t.fillStyle="#F5E7F8";for(var c=0;c<60;c++){var l=Math.floor(Math.random()*r+a),h=Math.floor(Math.random()*o+i),u=Math.floor(2*Math.random()+1);t.beginPath(),t.arc(l,h,u,0,2*Math.PI),t.fill()}t.strokeStyle="#0D0B21",t.lineWidth=e/1.5,t.beginPath(),t.rect(a,i,r,o),t.stroke(),t.restore()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.graph(),this.orbits(),this.stars()}}]),e}(ut),xt=["#564837","#713C3A"],jt=function(t){function e(t){var n;return Object(it.a)(this,e),(n=Object(ot.a)(this,Object(st.a)(e).call(this,t))).y=void 0,n.y=.7*n.canvasHeight,n}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"top",value:function(){var t=this.ctx,e=this.y,n=this.windowFrameThickness,a=.7*this.oneThirdCanvasWidth,i=1.35*n,r={tl:0,tr:this.roundedRadius,br:0,bl:0};t.fillStyle="#122C2B",wt(t,0,e,a,i,r),t.fillStyle="#06151A",t.beginPath(),t.rect(0,e+i-n/4,a,n/4),t.fill()}},{key:"leg",value:function(){var t=this.ctx,e=this.y,n=this.windowFrameThickness,a=this.canvasHeight,i=this.oneThirdCanvasWidth;t.strokeStyle="#122C2B",t.lineWidth=1.5*n,t.beginPath(),t.moveTo(.5*i,e),t.lineTo(.5*i,a),t.stroke()}},{key:"centerpiece",value:function(){for(var t=this.ctx,e=this.y,n=this.windowFrameThickness,a=this.canvasWidth,i=this.oneThirdCanvasWidth,r=.25*i,o=.3*i,s=2*n,c=[{xOffset:(o-.4*o)/4,y:e-s,radius:.2*o,color:xt[0],stemAngle:.9*Math.PI},{xOffset:-(o-.4*o)/4,y:e-s+s/8,radius:.2*o,color:xt[1],stemAngle:1.1*Math.PI}],l=0;l<c.length;l++){var h=c[l];t.fillStyle=h.color,t.beginPath(),t.arc(r+h.xOffset,h.y,h.radius,0,2*Math.PI),t.fill()}t.strokeStyle="#04070F",t.lineCap="round",t.lineWidth=2;for(var u=0;u<c.length;u++){var d=c[u];t.save(),t.translate(r+d.xOffset,d.y);var v={x:Math.sin(d.stemAngle)*c[1].radius*.9,y:Math.cos(d.stemAngle)*c[1].radius*.9},f={x:Math.sin(d.stemAngle)*c[1].radius*1.1,y:Math.cos(d.stemAngle)*c[1].radius*1.1};t.beginPath(),t.moveTo(v.x,v.y),t.lineTo(f.x,f.y),t.stroke(),t.restore()}var m={tl:0,tr:0,br:.1*i,bl:.1*i},g=s/8,b=.5*o;t.fillStyle="#1e1e1e",t.fillRect(r-b/2,e-s-g,b,s+g),t.fillStyle="#3e3e3e",wt(t,r-o/2,e-s-g,o,s,m),t.save(),t.clip(),t.lineWidth=2,t.strokeStyle="#06151A";var y=e-s-g+s/6;t.beginPath(),t.moveTo(0,y),t.lineTo(a,y),t.stroke(),t.restore()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.leg(),this.top(),this.centerpiece()}}]),e}(ut),Mt=function(t){function e(t){var n;Object(it.a)(this,e),(n=Object(ot.a)(this,Object(st.a)(e).call(this,t))).clockSize=void 0,n.clockCoords=void 0,n.clockSize=5*n.windowFrameThickness;var a=Math.max(.7*n.canvasWidth,2*n.canvasWidth/3+8*n.windowFrameThickness),i=n.canvasHeight/5;return n.clockCoords={x:a,y:i},n}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"face",value:function(){var t=this.ctx,e=this.clockSize,n=this.clockCoords,a=n.x,i=n.y;t.strokeStyle="#122C2B",t.lineWidth=this.windowFrameThickness/2,t.beginPath(),t.arc(a,i,e/1.75,0,2*Math.PI,!0),t.stroke(),t.strokeStyle="#06151A",t.beginPath(),t.arc(a,i,e/2,0,2*Math.PI,!0),t.stroke(),t.beginPath(),t.arc(a,i,e/2,0,2*Math.PI,!0),t.fillStyle="#4B4721",t.fill(),t.lineWidth=2,t.strokeStyle="#192124",t.save(),t.translate(a,i);for(var r=1;r<=60;r++){var o=r*Math.PI/30,s={x:Math.sin(o)*(e/2-e/20),y:Math.cos(o)*(e/2-e/20)},c={x:Math.sin(o)*(e/2-e/15),y:Math.cos(o)*(e/2-e/15)};t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(c.x,c.y),t.stroke()}t.restore()}},{key:"hands",value:function(){var t=this.ctx,e=this.clockSize,n=this.clockCoords,a=n.x,i=n.y;t.beginPath(),t.arc(a,i,e/2-e/15,0,2*Math.PI,!0),t.fillStyle="#4B4721",t.fill(),t.lineWidth=e/40,t.lineCap="round",t.strokeStyle="#192124",t.save(),t.translate(a,i);var r=new Date,o=r.getHours(),s=r.getMinutes(),c=r.getSeconds();t.save(),t.rotate(Math.PI/6*(o+s/60+c/3600)),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/4),t.stroke(),t.restore(),t.save(),t.rotate(Math.PI/30*(s+c/60)),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/2.75),t.stroke(),t.restore(),t.lineWidth=e/100,t.save(),t.rotate(Math.PI/30*c),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/2.7),t.stroke(),t.restore(),t.restore()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.face(),this.hands()}},{key:"tick",value:function(){this.hands()}}]),e}(ut),Et=function(t){function e(t){var n;Object(it.a)(this,e),(n=Object(ot.a)(this,Object(st.a)(e).call(this,t))).isWagging=!1,n.prevTailAngle=-Math.PI/2,n.headRadius=void 0,n.bodyHeight=void 0,n.bodyWidth=void 0,n.x=void 0,n.createdTimestamp=void 0,n.tailWidth=void 0,n.tailY=void 0;var a=Object(Tt.a)(Object(Tt.a)(n)),i=a.windowFrameThickness,r=a.oneThirdCanvasWidth,o=a.oneHalfCanvasHeight;return n.x=2*r-1.2*i,n.headRadius=i,n.bodyHeight=3*i,n.bodyWidth=2.2*i,n.createdTimestamp=Date.now(),n.tailWidth=i/2,n.tailY=3*o/2+i-n.tailWidth/2,n}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"head",value:function(){var t=this.ctx,e=this.oneHalfCanvasHeight,n=this.x,a=this.headRadius,i=3*e/2-this.bodyHeight-this.headRadius;t.fillStyle="#000",t.strokeStyle="#000",t.beginPath(),t.arc(n,i,a,0,2*Math.PI),t.fill(),t.save(),t.translate(n,i),t.lineWidth=5,t.lineJoin="round";var r={start:{x:Math.sin(.85*Math.PI)*a,y:Math.cos(.85*Math.PI)*a},point:{x:Math.sin(.8*Math.PI)*a*1.4,y:Math.cos(.8*Math.PI)*a*1.4},end:{x:Math.sin(.7*Math.PI)*a,y:Math.cos(.7*Math.PI)*a}};t.beginPath(),t.moveTo(r.start.x,r.start.y),t.lineTo(r.point.x,r.point.y),t.lineTo(r.end.x,r.end.y),t.closePath(),t.fill(),t.stroke();var o={start:{x:Math.sin(1.2*Math.PI)*a,y:Math.cos(1.2*Math.PI)*a},point:{x:Math.sin(1.22*Math.PI)*a*1.5,y:Math.cos(1.22*Math.PI)*a*1.5},end:{x:Math.sin(1.3*Math.PI)*a,y:Math.cos(1.3*Math.PI)*a}};t.beginPath(),t.moveTo(o.start.x,o.start.y),t.lineTo(o.point.x,o.point.y),t.lineTo(o.end.x,o.end.y),t.closePath(),t.fill(),t.stroke(),t.restore()}},{key:"body",value:function(){var t=this.ctx,e=this.oneHalfCanvasHeight,n=this.windowFrameThickness,a=this.x,i=this.headRadius,r=this.bodyWidth,o=this.bodyHeight,s=3*e/2-o;t.beginPath(),t.moveTo(a,s-i/2),t.quadraticCurveTo(a-.75*r,s+o/4,a-r/3,s+o+n),t.lineTo(a+r/2,s+o+n),t.quadraticCurveTo(a+1.2*r,s+o+n,a+r/3,s-i/3),t.closePath(),t.fill(),t.beginPath(),t.moveTo(a-r/4,s+.3*o),t.quadraticCurveTo(a-r,s+o,a-r/3,s+o+n),t.lineTo(a+r/2,s+o+n),t.closePath(),t.fill()}},{key:"tail",value:function(){var t=this.ctx,e=this.tailWidth,n=this.x,a=this.bodyWidth,i=this.tailY;t.lineWidth=e,t.lineCap="round",t.beginPath(),t.moveTo(n,i),t.lineTo(n-a,i),t.stroke()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this);var t=this.ctx,n=this.canvasWidth,a=this.canvasHeight;t.clearRect(0,0,n,a),this.head(),this.body(),this.tail()}},{key:"tick",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,a=this.createdTimestamp,i=this.x,r=this.bodyWidth,o=this.tailY;t.clearRect(0,0,e,n),this.head(),this.body();var s=Date.now()-a,c=-Math.PI/2+Math.sin(s/200)*-Math.PI/20;if(this.prevTailAngle>-Math.PI/2&&c<-Math.PI/2&&(this.isWagging=Math.random()<.1),this.prevTailAngle=c,c>-Math.PI/2&&(c=-Math.PI/2),this.isWagging){t.save(),t.translate(i,o);var l={x:Math.sin(c)*r,y:Math.cos(c)*r};t.beginPath(),t.moveTo(0,0),t.quadraticCurveTo(-r,-Math.cos(c)*r/10,l.x,l.y),t.stroke(),t.restore()}else this.tail()}}]),e}(ut),Pt=function(t){function e(t){var n;Object(it.a)(this,e),(n=Object(ot.a)(this,Object(st.a)(e).call(this,t))).stemX=void 0,n.stemHeight=void 0,n.lampWidth=void 0,n.shadeTopLeft=void 0,n.shadeTopRight=void 0,n.shadeBottomRight=void 0,n.shadeBottomLeft=void 0;var a=Object(Tt.a)(Object(Tt.a)(n)),i=a.canvasWidth,r=a.canvasHeight,o=a.windowFrameThickness;return n.stemX=7*i/11,n.stemHeight=r/5,n.lampWidth=3.5*o,n.shadeTopLeft={x:n.stemX-o/5,y:n.stemHeight+o},n.shadeTopRight={x:n.stemX+o/5,y:n.stemHeight+o},n.shadeBottomRight={x:n.stemX+n.lampWidth/2,y:n.stemHeight+3*o},n.shadeBottomLeft={x:n.stemX-n.lampWidth/2,y:n.stemHeight+3*o},n}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"stem",value:function(){var t=this.ctx,e=this.windowFrameThickness,n=this.stemX,a=this.stemHeight;t.strokeStyle="#8e8e8e",t.fillStyle="#8e8e8e",t.lineWidth=e/5,t.beginPath(),t.moveTo(n,0),t.lineTo(n,a),t.stroke(),t.lineWidth=1,t.fillRect(n-e/5,a-1,2*e/5,e),t.stroke()}},{key:"lampshade",value:function(){var t=this.ctx,e=this.shadeTopLeft,n=this.shadeTopRight,a=this.shadeBottomRight,i=this.shadeBottomLeft;t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(a.x,a.y),t.lineTo(i.x,i.y),t.closePath(),t.fill(),t.stroke(),t.fillStyle="#ff7",t.fillRect(i.x,i.y,a.x-i.x,2)}},{key:"light",value:function(){var t=this.ctx,e=this.canvasHeight,n=this.windowFrameThickness,a=this.stemX,i=this.stemHeight,r=this.lampWidth,o=this.shadeTopLeft,s=this.shadeBottomRight,c=this.shadeBottomLeft;t.fillStyle="rgba(252, 243, 126, 0.085)";var l=e-c.y,h=function(t,e){var n=e.x-t.x,a=e.y-t.y;return Math.atan2(a,n)}(c,{x:o.x,y:c.y+c.y-o.y}),u=l/Math.tan(h),d=c.x-u,v=s.x+u;t.beginPath(),t.moveTo(a-r/2,i+3*n),t.lineTo(a+r/2,i+3*n),t.lineTo(v,e),t.lineTo(d,e),t.fill()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.stem(),this.lampshade(),this.tick()}},{key:"tick",value:function(){var t=this.ctx,e=this.canvasWidth,n=this.canvasHeight,a=this.windowFrameThickness,i=this.stemHeight;t.clearRect(0,i+3*a+2,e,n),this.light()}}]),e}(ut),St=function(t){function e(t){var n;return Object(it.a)(this,e),(n=Object(ot.a)(this,Object(st.a)(e).call(this,t))).wall=void 0,n.window=void 0,n.dresser=void 0,n.pictures=void 0,n.table=void 0,n.clock=void 0,n.wall=new bt(t),n.window=new pt(t),n.dresser=new Ot(t),n.pictures=new kt(t),n.table=new jt(t),n.clock=new Mt(t),n}return Object(lt.a)(e,t),Object(rt.a)(e,[{key:"render",value:function(){this.wall.render(),this.window.render(),this.dresser.render(),this.pictures.render(),this.table.render(),this.clock.render()}}]),e}(ut),It=(n(42),{0:{MAX_RAINDROPS_PER_TICK:8},1:{MAX_RAINDROPS_PER_TICK:33},2:{MAX_RAINDROPS_PER_TICK:60}}),Ct=b(function(t){var e=t.data,n=t.isBeat,r=t.lowPassIntensity,o=t.quality,s=Object(a.useRef)(null),c=Object(a.useRef)();P(function(){var t=s.current,e=window;!function(e,n,a){t.width=e*a,t.height=n*a;var i=t.getContext("2d"),r=new vt(i);c.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var l=Object(a.useRef)(null),h=Object(a.useRef)();P(function(){var t=l.current,e=window;!function(e,n,a){t.width=e*a,t.height=n*a;var i=t.getContext("2d"),r=h.current;null==r?h.current=new gt(i):((r=h.current).canvasWidth=e,r.canvasHeight=n)}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var u=Object(a.useRef)(null),d=Object(a.useRef)(),v=Object(a.useRef)();P(function(){var t=u.current,e=window;!function(e,n,a){t.width=e*a,t.height=n*a;var i=t.getContext("2d"),r=new St(i);d.current=r,r.render(),v.current&&window.clearTimeout(v.current),v.current=window.setInterval(function(){return r.clock.tick()},1e3)}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var f=Object(a.useRef)(null),m=Object(a.useRef)();P(function(){var t=f.current,e=window;!function(e,n,a){t.width=e*a,t.height=n*a;var i=t.getContext("2d"),r=new Et(i);m.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var g=Object(a.useRef)(null),b=Object(a.useRef)();return P(function(){var t=g.current,e=window;!function(e,n,a){t.width=e*a,t.height=n*a;var i=t.getContext("2d"),r=new Pt(i);b.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]),Object(a.useEffect)(function(){var t=d.current,e=h.current,a=m.current,i=b.current,s=Math.floor(r/Math.max(1,4-o));s<1?s=1:s>It[o].MAX_RAINDROPS_PER_TICK&&(s=It[o].MAX_RAINDROPS_PER_TICK);for(var c=0;c<s;)e.add(),c+=1;e.tick(),t.dresser.tick(n),i.tick(),a.tick();var u=l.current;u.getContext("2d").clearRect(0,0,u.width,u.height),e.render()},[e]),i.a.createElement("div",{className:"rain"},i.a.createElement("canvas",{ref:s}),i.a.createElement("canvas",{ref:l}),i.a.createElement("canvas",{ref:u}),i.a.createElement("canvas",{ref:f}),i.a.createElement("canvas",{ref:g}))}),Rt=(n(43),b(function(){return i.a.createElement("div",{className:"mobile-disabled"},i.a.createElement("div",{className:"content"},i.a.createElement("img",{id:"desktop-icon",src:"/late/assets/images/desktop.png"}),i.a.createElement("div",{id:"message"},"Sorry, this visualization cannot be viewed on a mobile device.")))}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[{component:Ct},{component:at,options:{smoothing:128}},{component:S},{component:A,options:{smoothing:64}},{component:z}]),At=Rt.map(function(t){return function(e){e.style;var n=Object(f.a)(e,["style"]);return i.a.createElement(m.a.div,{className:"visualization",style:e.style},i.a.createElement(t.component,Object.assign({},n,{options:t.options})))}}),Wt=Object(s.b)(function(t){return{currentIndex:t.currentVisualizationIndex,prevIndex:t.prevVisualizationIndex,quality:t.quality}})(function(t){var e=t.data,n=t.lowPassData,r=t.prevIndex,o=t.currentIndex,s=t.quality,c=x(o,Rt.length),l=Object(a.useCallback)(function(t,e){var n=0;return t<e?n=1:e<t&&(n=-1),"translate3d(".concat(100*n,"%, 0, 0)")},[]),h=Object(m.d)(c,null,{from:{transform:l(o,r)},enter:{transform:l()},leave:{transform:l(r,o)},initial:{transform:l(0,-1)}});return i.a.createElement(i.a.Fragment,null,h.map(function(t){var a=t.item,r=t.props,o=t.key,c=At[a];return i.a.createElement(c,{key:o,data:e,lowPassData:n,quality:s,style:r})}))}),_t=function(t){var e=t.context,n=t.source,r=Object(a.useState)(new Uint8Array),o=Object(v.a)(r,2),s=o[0],c=o[1],l=Object(a.useState)(new Uint8Array),h=Object(v.a)(l,2),u=h[0],d=h[1],f=Object(a.useRef)();return Object(a.useEffect)(function(){var t=e.createAnalyser();t.fftSize=512,t.smoothingTimeConstant=0,n.connect(t),t.connect(e.destination);var a=e.createBiquadFilter();a.type="lowpass";var i=e.createAnalyser();return i.fftSize=512,i.smoothingTimeConstant=0,n.connect(a),a.connect(i),f.current=window.requestAnimationFrame(function e(){var n=new Uint8Array(512);t.getByteTimeDomainData(n),c(n);var a=new Uint8Array(512);i.getByteTimeDomainData(a),d(a),f.current=window.requestAnimationFrame(e)}),function(){null!=f.current&&window.cancelAnimationFrame(f.current),t&&t.disconnect(),i&&i.disconnect(),n&&n.disconnect()}},[e,n]),i.a.createElement(Wt,{data:s,lowPassData:u})},Ht=(n(44),function(t){var e=t.isShown,n=void 0===e||e;return i.a.createElement("div",{className:C()("loading",{show:n})},i.a.createElement("span",{className:"loading-dot"}),i.a.createElement("span",{className:"loading-dot"}),i.a.createElement("span",{className:"loading-dot"}))}),Nt=n(27),Dt=(n(45),[{label:"low",value:0},{label:"medium",value:1},{label:"high",value:2}]),Lt=Object(s.b)(function(t){return{quality:t.quality}},function(t){return{setQuality:function(e){return t(function(t){return{type:c.SET_QUALITY,quality:t}}(e))}}})(function(t){var e=t.quality,n=t.setQuality,a=t.onHover,r=t.onHoverStop;return i.a.createElement("div",{id:"quality",onMouseEnter:a,onMouseLeave:r},i.a.createElement("select",{value:e,onChange:function(t){return n(+t.target.value)}},Dt.map(function(t){return i.a.createElement("option",{key:t.label,value:t.value},t.label)})))}),Ft=(n(46),Object(s.b)(null,function(t){return{goToNextVisualization:function(){return t({type:c.GO_TO_NEXT_VISUALIZATION})},goToPrevVisualization:function(){return t({type:c.GO_TO_PREV_VISUALIZATION})}}})(function(t){var e=Object(a.useState)(!1),n=Object(v.a)(e,2),r=n[0],o=n[1],s=Object(a.useState)(!1),c=Object(v.a)(s,2),l=c[0],h=c[1],u=Object(a.useRef)(),d=Object(a.useRef)();Object(a.useEffect)(function(){var e=function(e){switch(e.which){case 37:case 38:t.goToPrevVisualization();break;case 39:case 40:t.goToNextVisualization()}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[]);var f=Object(a.useCallback)(function(){null!=u.current&&window.clearTimeout(u.current),o(!0),u.current=window.setTimeout(function(){l||o(!1)},1500)},[l]),m=Object(a.useCallback)(function(){t.context&&t.context.resume(),t.togglePlay(),f()},[t.context,t.togglePlay]),g=Object(a.useCallback)(function(t){t.preventDefault(),d.current=Date.now()},[]),b=function(){return window.open("https://github.com/blackwright/late")},y=Object(a.useCallback)(function(t){1===t.nativeEvent.which&&(d.current=Date.now())},[]),w=Object(a.useCallback)(function(t){1===t.nativeEvent.which&&d.current&&Date.now()-d.current<250&&m()},[]),p=Object(a.useCallback)(function(t){t.preventDefault(),d.current&&Date.now()-d.current<250&&f()},[l]),O=Object(a.useCallback)(function(e){e.stopPropagation(),t.goToPrevVisualization(),f()},[l]),T=Object(a.useCallback)(function(e){e.stopPropagation(),t.goToNextVisualization(),f()},[l]),k=Object(a.useCallback)(function(t){t.stopPropagation()},[]),x=Object(a.useCallback)(function(){return h(!0)},[]),j=Object(a.useCallback)(function(){return h(!1)},[]),M=t.wantsToPlay,E=t.isPlaying;return i.a.createElement(i.a.Fragment,null,M&&!E&&i.a.createElement(Ht,null),i.a.createElement("div",{id:"overlay",onTouchStart:g,onTouchEnd:p,onMouseMove:f,className:C()({show:r})},i.a.createElement("h1",{id:"title",onClick:b,onTouchEnd:b,onMouseEnter:x,onMouseLeave:j},"late"),i.a.createElement(Lt,{onHover:x,onHoverStop:j}),i.a.createElement("div",{id:"version"},"build ",Nt.a),i.a.createElement("div",{onMouseDown:y,onMouseUp:w,onTouchEnd:m,onMouseEnter:x,onMouseLeave:j,className:C()({play:!M&&!E,pause:M&&E})}),i.a.createElement("div",{className:"navigation"},i.a.createElement("div",{className:"arrow-container",onClick:O,onTouchStart:O,onMouseUp:k,onMouseEnter:x,onMouseLeave:j},i.a.createElement("svg",{className:"arrow",width:"60px",height:"80px",viewBox:"0 0 50 80"},i.a.createElement("polyline",{fill:"none",stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"45.63,75.8 0.375,38.087 45.63,0.375"}))),i.a.createElement("div",{className:"arrow-container",onClick:T,onTouchStart:T,onMouseUp:k,onMouseEnter:x,onMouseLeave:j},i.a.createElement("svg",{className:"arrow",width:"60px",height:"80px",viewBox:"0 0 50 80"},i.a.createElement("polyline",{fill:"none",stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"0.375,0.375 45.63,38.087 0.375,75.8"}))))))})),Ut=(n(47),function(){return i.a.createElement("div",{id:"no-web-audio"},i.a.createElement("p",null,"Your device doesn't fully support the Web Audio API."),i.a.createElement("p",null,"This site can be viewed on a desktop or Android device."))}),Bt=function(t){var e=Object(a.useState)(!1),n=Object(v.a)(e,2),r=n[0],o=n[1],s=Object(a.useState)(!1),c=Object(v.a)(s,2),l=c[0],h=c[1],u=function(t){var e=Object(a.useState)(t),n=Object(v.a)(e,2),i=n[0],r=n[1],o=Object(a.useRef)(i);return Object(a.useEffect)(function(){o.current=i},[i]),[i,r,o]}(void 0),d=Object(v.a)(u,3),f=d[0],m=d[1],g=d[2],b=Object(a.useState)(),y=Object(v.a)(b,2),w=y[0],p=y[1],O=Object(a.useState)(!1),T=Object(v.a)(O,2),k=T[0],x=T[1],j=Object(a.useRef)(null);Object(a.useEffect)(function(){try{new window.AudioContext}catch(t){x(!0)}},[]),Object(a.useEffect)(function(){var t=j.current,e=function(){return h(!0)},n=function(){return h(!1)},a=console.error;return t.addEventListener("playing",e),t.addEventListener("pause",n),t.addEventListener("error",a),function(){t.removeEventListener("playing",e),t.removeEventListener("pause",n),t.removeEventListener("error",a)}},[]);var M=Object(a.useCallback)(function(){var t=j.current,e=new window.AudioContext,n=e.createMediaElementSource(t);m(e),p(n)},[j.current]),E=Object(a.useCallback)(function(){var t=j.current;t.paused?(o(!0),t.play(),g.current||M()):(o(!1),t.pause())},[j.current]);return k?i.a.createElement(Ut,null):i.a.createElement(i.a.Fragment,null,i.a.createElement("audio",{ref:j,id:"audioElement",src:"http://snds.blackwright.com",preload:"auto",crossOrigin:"anonymous"}),f&&w&&i.a.createElement(_t,{context:f,source:w}),i.a.createElement(Ft,{context:f,wantsToPlay:r,isPlaying:l,togglePlay:E}))};n(48),n(49);o.a.render(i.a.createElement(s.a,{store:d},i.a.createElement(Bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.9eb0549c.chunk.js.map