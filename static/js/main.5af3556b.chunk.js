(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(t){t.exports={a:98}},31:function(t,e,a){t.exports=a(54)},40:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){},44:function(t,e,a){},45:function(t,e,a){},46:function(t,e,a){},50:function(t,e,a){},51:function(t,e,a){},52:function(t,e,a){},53:function(t,e,a){},54:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(19),o=a.n(r),s=a(16);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,h=a(20),l=a(17);!function(t){t.BEGIN_VISUALIZATION_TRANSITION="BEGIN_VISUALIZATION_TRANSITION",t.END_VISUALIZATION_TRANSITION="END_VISUALIZATION_TRANSITION",t.GO_TO_PREV_VISUALIZATION="GO_TO_PREV_VISUALIZATION",t.GO_TO_NEXT_VISUALIZATION="GO_TO_NEXT_VISUALIZATION"}(c||(c={}));var u={currentVisualizationIndex:0,prevVisualizationIndex:0};var d=Object(h.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;switch((arguments.length>1?arguments[1]:void 0).type){case c.GO_TO_NEXT_VISUALIZATION:return Object(l.a)({},t,{currentVisualizationIndex:t.currentVisualizationIndex+1,prevVisualizationIndex:t.currentVisualizationIndex});case c.GO_TO_PREV_VISUALIZATION:return Object(l.a)({},t,{currentVisualizationIndex:t.currentVisualizationIndex-1,prevVisualizationIndex:t.currentVisualizationIndex});default:return t}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),v=a(10),f=a(21),m=a(11),g=(a(40),{data:new Uint8Array,lowPassData:new Uint8Array,options:{}});function w(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=e.data,r=e.lowPassData,o=e.options,s=Object(n.useRef)([]),c=Object(n.useRef)([]),h=Object(n.useRef)(Date.now()),l=0,u=0,d=a.map(function(t,e){l+=Math.abs(t-128);var n=r[e];if(u+=Math.abs(n-128),null!=o&&o.smoothing){for(var i=0,s=0,c=e-o.smoothing;c<e+o.smoothing;){i+=a[c]||128,s+=1,c+=1}return i/s}return t}),v=0,f=0,m=0,w=0;s.current.forEach(function(t,e){t>v&&(v=t);var a=c.current[e];f+=a,m+=1,a>w&&(w=a)});var b=l/a.length,p=f/m||0,y=u/r.length;s.current=s.current.concat(b),c.current=c.current.concat(y),Date.now()-h.current>2e3&&(s.current.shift(),c.current.shift());var O=y>1.5*p;return i.a.createElement(t,{data:d,lowPassData:r,isBeat:O,intensity:b,lowPassIntensity:y})}}var b=a(14),p=[["#0E9AA7","#F6CD61","#FE8A71"],["#EE4540","#801336","#2D142C"],["#8FB9A8","#FDFBD4","#FCD0BA"],["#AC6D83","#685D79","#465C7A"],["#F36E38","#EF4648","#582841"],["#F1F1F1","#9BD7D1","#305D7A"],["#DEA5B6","#F3CD8C","#F2E9C2"],["#E27B47","#EFCA58","#46B29E"],["#2E7345","#2E9975","#2DB3B3"],["#52A3CC","#7EA1E5","#AAAAF2"],["#CC5285","#CC5285","#F2BCAA"],["#D8E0BB","#B6CEC7","#86A3C3"]];p.map(function(t,e){return{id:e,colorTriple:t}});function y(){return p[Math.floor(Math.random()*p.length)]}function O(t,e){for(var a=[];a.length<t;){var n=y(),i=n[Math.floor(Math.random()*n.length)];if(e&&a.includes(i))break;a.push(i)}return a}function k(){return O(1)[0]}function x(){var t=Object(b.a)(y());return Math.random()<=.5?t.reverse():t}function j(t,e){return(t%e+e)%e}function T(t){return 0===j(t,1)}function M(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(T(t)&&T(e))return t+Math.floor(Math.random()*(e-t));var n=t+Math.random()*(e-t);return Number(n.toPrecision(a))}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=this,c=a&&null==n;null!=n&&window.clearTimeout(n),n=window.setTimeout(function(){n=null,a||t.apply(s,r)},e),c&&t.apply(s,r)}}function P(t){var e=Object(n.useState)(t),a=Object(v.a)(e,2),i=a[0],r=a[1],o=Object(n.useRef)(i);return Object(n.useEffect)(function(){o.current=i},[i]),[i,r,o]}function S(t,e){Object(n.useEffect)(function(){t();var e=E(t);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},e)}a(41);var C=w(function(t){var e=t.data,a=Object(n.useRef)(null);return S(function(){var t=window,e=t.innerWidth,n=t.innerHeight,i=t.devicePixelRatio,r=void 0===i?1:i,o=a.current;o.width=e*r,o.height=n*r;var s=o.getContext("2d");s.fillStyle="#101010",s.fillRect(0,0,o.width,o.height)},[]),Object(n.useEffect)(function(){var t=a.current,e=t.getContext("2d"),n=window.setInterval(function(){e.fillStyle="rgba(0, 0, 0, 0.05)",e.fillRect(0,0,t.width,t.height)},7);return function(){return window.clearInterval(n)}},[]),Object(n.useEffect)(function(){var t=a.current,n=t.getContext("2d");n.lineWidth=10,n.lineCap="round";var i=function(t){switch(t){case 3:return x();case 2:return O(2,!0);case 1:return[k()];default:return x()}}(2),r=t.width/e.length;i.forEach(function(a,o){n.strokeStyle=a,n.beginPath();var s=0*o;n.moveTo(s,t.height/2),e.forEach(function(e){var a=e/255*t.height-5*i.length/2;n.lineTo(s,a+o*(5*i.length/2)),s+=r}),n.lineTo(s,t.height/2),n.stroke()})},[e]),i.a.createElement("div",{className:"waveform"},i.a.createElement("div",{className:"backdrop"}),i.a.createElement("canvas",{ref:a}))}),I=a(12),A=a.n(I),R=(a(42),w(function(t){var e=t.data,a=t.isBeat,r=Object(n.useState)(0),o=Object(v.a)(r,2),s=o[0],c=o[1],h=Object(n.useState)(0),u=Object(v.a)(h,2),d=u[0],g=u[1],w=Object(n.useRef)({values:[k()],lastChangedTimestamp:Date.now()});S(function(){var t=window,e=t.innerWidth,a=t.innerHeight,n=Math.max(e,a);c(2*n);var i=Math.sqrt(Math.pow(e,2)+Math.pow(a,2));g(i)},[]);for(var b=w.current,p={},y=0;y<10;y++)p[y]=0;e.forEach(function(t){for(var e=0;e<10;e++){var a=25.6*(e+1);if(Math.abs(t-128)>10&&t<=a){p[e]+=1;break}}});var O=Date.now();if(a&&O-b.lastChangedTimestamp>200){var x;do{x=k()}while(b.values[b.values.length-1]===x);b.values.push(x),b.values.length>1&&b.values.shift(),b.lastChangedTimestamp=O}var j=Object.entries(p).map(function(t,e){var a=Object(v.a)(t,2),n=a[0],r=a[1],o=(+n+1)*s/10;return i.a.createElement("div",{key:n,className:"drummer-container",style:{width:"".concat(o,"px"),height:"".concat(o,"px"),opacity:(10-e)/10*.5*.25}},i.a.createElement("div",{className:A()("beat",{hit:r>10.24})}))}),T=s/20,M=Object(m.d)(b.values,null,{from:function(t){return{backgroundColor:t,width:T,height:T,scale:1}},enter:{scale:d/T*1.5},leave:{scale:0},config:m.b.slow});return i.a.createElement("div",{className:"drummer"},j,M.map(function(t){t.item;var e=t.props,a=t.key,n=e,r=n.scale,o=Object(f.a)(n,["scale"]);return i.a.createElement(m.a.div,{className:"color-overlay",key:a,style:Object(l.a)({},o,{transform:Object(m.c)([r],function(t){return"translate3d(0, 0, 0) scale(".concat(t,")")})})})}))})),W=a(2);var H=1500,F=200,L=.025,D=-.3,N=.3,z=60;function _(t){var e,a,n=Date.now(),i=0,r=(a=z,new W.p(48,a,a)),o=function(t){var e=new W.p(t.parameters.radius,t.parameters.widthSegments,t.parameters.heightSegments).vertices,a=new Float32Array(3*e.length);e.forEach(function(t,e){t.toArray(a,3*e)});var n=new W.c;n.addAttribute("position",new W.b(a,3)),n.attributes.position.dynamic=!0;var i=new W.m({size:.5,map:(new W.q).load("assets/images/point.png"),alphaTest:.5,color:6710886,transparent:!0});return new W.l(n,i)}(r),s=function(t){var e=new W.j(75,window.innerWidth/window.innerHeight,.1,1e3);return e.position.set(0,t,0),e.lookAt(new W.r(0,0,0)),e}(F),c=function(){var t=window,e=t.innerWidth,a=t.innerHeight,n=new W.s({alpha:!0});return n.setPixelRatio(window.devicePixelRatio),n.setSize(e,a),n.setClearColor(0,0),n}();t.appendChild(c.domElement);var h=new W.n;h.add(o);var l=new W.d,u=E(function(){s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight),c.render(h,s)});function d(){"hidden"===document.visibilityState?l.stop():l.start()}return window.addEventListener("resize",u),document.addEventListener("visibilitychange",d),{clock:l,sphereGeometry:r,halpern:o,animate:function t(){var a=l.getDelta();o.rotateY(D*a),Date.now()-n>H&&o.rotateX(N*a),(i+=a)>=2*Math.PI&&(i=0),s.translateY(Math.cos(i)*L),s.translateX(Math.cos(i)*L),s.translateZ(Math.cos(i)*L*5),c.render(h,s),e=window.requestAnimationFrame(t)},cleanup:function(){window.cancelAnimationFrame(e),window.removeEventListener("resize",u),document.removeEventListener("visibilitychange",d),t.removeChild(c.domElement),h.remove(o),o.geometry.dispose(),o.material.dispose(),r.dispose(),c.dispose()}}}a(43);var B=w(function(t){var e=t.data,a=Object(n.useRef)(null),r=Object(n.useRef)(),o=Object(n.useRef)(),s=Object(n.useRef)(),c=Object(n.useRef)(),h=Object(n.useRef)(new Array(e.length).fill(128));return Object(n.useEffect)(function(){var t=_(a.current);r.current=t;var n=t.halpern.geometry;return s.current=Math.floor(e.length/t.sphereGeometry.parameters.widthSegments),c.current=(t.sphereGeometry.vertices.length-2)/(t.sphereGeometry.parameters.widthSegments-1),o.current=n.attributes.position.array.slice(0),t.clock.start(),t.animate(),t.cleanup},[]),Object(n.useEffect)(function(){var t=Math.floor(e.length/2);h.current.splice(0,3),h.current=h.current.concat(new Array(3).fill(e[t]));for(var a=r.current.halpern.geometry,n=a.getAttribute("position").array,i=0;i<o.current.length;){var l=Math.ceil(Math.floor(i/3)/c.current),u=l*s.current,d=Math.min(l,c.current-l),v=Math.abs(h.current[u]-128)/255*d*.1+1;n[i]=o.current[i]*v,n[i+1]=o.current[i+1]*v,n[i+2]=o.current[i+2]*v,i+=3}a.getAttribute("position").needsUpdate=!0},[e]),i.a.createElement("div",{className:"halpern",ref:a})});var V="\nattribute float alpha;\nvarying float vAlpha;\n\nvoid main() {\n  vAlpha = alpha;\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_PointSize = 4.0 * alpha;\n  gl_Position = projectionMatrix * mvPosition;\n}\n",U="\nuniform vec3 color;\nvarying float vAlpha;\n\nvoid main() {\n  float r = 0.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n  if (r > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, vAlpha);\n}\n";function X(){var t=Math.random()<.5?"cloud.png":"smoke.png",e=new W.k(50,50),a=new W.i({map:(new W.q).load("assets/images/".concat(t)),transparent:!0,opacity:.15,depthTest:!1});e.rotateZ(360*Math.random());var n=new W.h(e,a),i=15*Math.random()+10;return n.position.set(100*Math.random()-50,100*Math.random()-50,Math.random()<.5?i:-i),n}function G(t,e){return new W.f(t,e)}var q=1e4,Z=40,Y=1,J=.2,K=.75,$=.025,Q=.001,tt=50358,et=13697058;function at(t,e){var a,n=function(){var t=window,e=t.innerWidth,a=t.innerHeight,n=new W.s({antialias:!0});return n.setPixelRatio(window.devicePixelRatio),n.setSize(e,a),n.setClearColor(15,1),n}();t.appendChild(n.domElement);var i=new W.j(50,window.innerWidth/window.innerHeight,1,1e3),r=new W.n,o=function(t){for(var e=new W.c,a=new Float32Array(3*t),n=0;n<t;)a[n++]=100*Math.random()-50,a[n++]=100*Math.random()-50,a[n++]=100*Math.random()-50;e.addAttribute("position",new W.b(a,3));for(var i=new Float32Array(1*e.attributes.position.count),r=0;r<i.length;)i[r]=Math.random(),r+=1;e.addAttribute("alpha",new W.b(i,1));var o=new W.o({uniforms:{color:{type:"c",value:new W.e(16777215)}},vertexShader:V,fragmentShader:U,transparent:!0});return new W.l(e,o)}(q);r.add(o);for(var s=new W.g,c=0;c<=Z;){var h=X();s.add(h),c+=1}r.add(s);var l,u,d=(l=16777215,u=e,new W.a(l,u));r.add(d);var v=G(tt,2);v.position.set(0,0,1),r.add(v);var f=G(et,e);f.position.set(0,0,1),r.add(f);for(var m=o.geometry.attributes.alpha,g=new Float32Array(m.count),w=0;w<g.length;w++)g[w]=Math.random()<.5?1:-1;var b=new W.d,p=E(function(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),n.render(r,i)});function y(){"hidden"===document.visibilityState?b.stop():b.start()}return window.addEventListener("resize",p),document.addEventListener("visibilitychange",y),{clock:b,animate:function t(){var e=b.getDelta();o.rotateX(Q*e),o.rotateY($*e),s.rotateX(24*Q*e),s.rotateY(2*$*e),s.rotateZ(3*Q*e),s.children.forEach(function(t){t.lookAt(i.position)});for(var c=0;c<m.count;c++)g[c]>0?(m.array[c]*=1+K*e,m.array[c]>Y&&(g[c]=-1)):(m.array[c]*=1-K*e,m.array[c]<J&&(g[c]=1));m.needsUpdate=!0,n.render(r,i),a=window.requestAnimationFrame(t)},cleanup:function(){window.cancelAnimationFrame(a),window.removeEventListener("resize",p),document.removeEventListener("visibilitychange",y),t.removeChild(n.domElement),r.remove(o),o.geometry.dispose(),o.material.dispose(),r.remove(s),s.children.forEach(function(t){t.geometry.dispose(),t.material.dispose()}),n.dispose()},dLight:f}}a(44);var nt=w(function(t){var e=t.data,a=t.intensity,r=Object(n.useRef)(null),o=Object(n.useRef)(),s=Object(n.useRef)(Date.now());return Object(n.useEffect)(function(){var t=at(r.current,1);return o.current=t,t.clock.start(),t.animate(),t.cleanup},[]),Object(n.useEffect)(function(){var t=Date.now();if(!(t-s.current<=75)){var e=o.current.dLight,n=e.intensity,i=a/2||1;i-n>2.5&&(i=n+2.5),e.intensity=i,s.current=t}},[e]),i.a.createElement("div",{className:"stars",ref:r})}),it=a(3),rt=a(4),ot=a(6),st=a(1),ct=a(9),ht=a(7),lt=50,ut=function(){function t(e){Object(it.a)(this,t),this.ctx=e,this.canvasWidth=void 0,this.canvasHeight=void 0,this.oneThirdCanvasWidth=void 0,this.oneHalfCanvasHeight=void 0,this.windowFrameThickness=void 0,this.roundedRadius=void 0,this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.oneThirdCanvasWidth=this.canvasWidth/3,this.oneHalfCanvasHeight=this.canvasHeight/2,this.windowFrameThickness=Math.floor(Math.max(this.canvasWidth,this.canvasHeight)/lt),this.roundedRadius=Math.floor(this.windowFrameThickness/3),e.save()}return Object(rt.a)(t,[{key:"render",value:function(){this.ctx.restore()}},{key:"tick",value:function(t){}}]),t}(),dt=function(){function t(e){Object(it.a)(this,t),this.ctx=void 0,this.canvasHeight=void 0,this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.color=void 0,this.lights=[],this.ctx=e.ctx,this.canvasHeight=e.canvasHeight,this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.color=e.color}return Object(rt.a)(t,[{key:"generateLights",value:function(){for(var t=this.canvasHeight,e=this.width,a=this.height,n=M(.02,.03)*a,i=M(.01,.03)*a,r=M(2,6),o=M(.05,.1)*e,s=M(.025,.1)*a,c=M(.01,.05)*e,h=(this.width-2*o-c*(r-1))/r,l=[],u=this.x+o,d=this.y+s;d<.98*t;)u>=this.x+this.width-o?(u=this.x+o,d+=n+i):(l.push({x:u,y:d,width:h,height:n,isOn:Math.random()>.4}),u+=h+c);this.lights=l}},{key:"render",value:function(){var t=this.ctx,e=this.x,a=this.y,n=this.width,i=this.height,r=this.color;t.save(),t.fillStyle=r,t.fillRect(e,a,n,i),t.fillStyle="rgb(255, 255, 255)";var o=!0,s=!1,c=void 0;try{for(var h,l=this.lights[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var u=h.value;u.isOn&&t.fillRect(u.x,u.y,u.width,u.height)}}catch(d){s=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(s)throw c}}this.lights=[],t.restore()}}]),t}(),vt=function(t){function e(t){var a;return Object(it.a)(this,e),(a=Object(ot.a)(this,Object(st.a)(e).call(this,t))).layers=[],a.generateBuildings(),a}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"generateBuildings",value:function(){for(var t=this,e=this.ctx,a=this.canvasWidth,n=this.canvasHeight,i=function(i){for(var r=[],o=0;o<a;){var s=M(.08,.15,2)*a,c=M(.3,.95,2)*n,h=M(.02,.05)*a,l=new dt({y:n-c,color:k(),ctx:e,canvasHeight:n,x:o,width:s,height:c});r.push(l),o+=s+h}var u=r[0],d=M(.25*u.width,.75*u.width);r.forEach(function(t){return t.x-=d}),t.layers.push(r)},r=0;r<4;r++)i()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this);for(var t=this.ctx,a=this.canvasWidth,n=this.canvasHeight,i=this.layers,r=0;r<i.length;r++){var o=i[r];r===i.length-1&&o.forEach(function(t){return t.generateLights()});var s=!0,c=!1,h=void 0;try{for(var l,u=o[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){l.value.render()}}catch(d){c=!0,h=d}finally{try{s||null==u.return||u.return()}finally{if(c)throw h}}t.fillStyle="rgba(65, 35, 66, 0.6)",t.fillRect(0,0,a,n)}this.layers=[]}}]),e}(ut),ft=10,mt=function(){function t(e,a,n,i){Object(it.a)(this,t),this.ctx=e,this.canvasHeight=a,this.x=n,this.height=i,this.createdDate=void 0,this.y=0,this.createdDate=Date.now()}return Object(rt.a)(t,[{key:"tick",value:function(t){var e=t-this.createdDate;this.y=Math.floor(e/300*this.canvasHeight*.75+.25*this.canvasHeight)}},{key:"render",value:function(){var t=this.ctx,e=this.x,a=this.y,n=this.height;t.strokeStyle="#788",t.lineWidth=1,t.beginPath(),t.moveTo(e,a),t.lineTo(e,a+n),t.stroke()}}]),t}(),gt=function(){function t(e){Object(it.a)(this,t),this.ctx=e,this.raindrops=[],this.raindropHeight=void 0,this.canvasWidth=void 0,this.canvasHeight=void 0,this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.raindropHeight=Math.floor(.5*this.canvasHeight/ft)}return Object(rt.a)(t,[{key:"tick",value:function(){for(var t=this.raindrops,e=this.canvasHeight,a=Date.now(),n=t.length-1;n>=0;n--){var i=t[n];i.tick(a),i.y>=.75*e&&t.splice(n,1)}}},{key:"add",value:function(){var t=this.ctx,e=this.canvasWidth,a=this.canvasHeight,n=this.raindrops,i=this.raindropHeight,r=Math.random()*(e/3-1)+e/3;n.push(new mt(t,a,r,i))}},{key:"render",value:function(){this.raindrops.forEach(function(t){return t.render()})}}]),t}(),wt=function(t){function e(t){return Object(it.a)(this,e),Object(ot.a)(this,Object(st.a)(e).call(this,t))}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this);var t=this.ctx,a=this.canvasWidth,n=this.canvasHeight,i=this.ctx.createLinearGradient(0,0,0,n);i.addColorStop(0,"#181623"),i.addColorStop(1,"#111019"),t.fillStyle=i,t.fillRect(0,0,a,n)}}]),e}(ut),bt={tl:0,tr:0,br:0,bl:0};function pt(t,e,a,n,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bt,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];t.beginPath(),t.moveTo(e+r.tl,a),t.lineTo(e+n-r.tr,a),t.quadraticCurveTo(e+n,a,e+n,a+r.tr),t.lineTo(e+n,a+i-r.br),t.quadraticCurveTo(e+n,a+i,e+n-r.br,a+i),t.lineTo(e+r.bl,a+i),t.quadraticCurveTo(e,a+i,e,a+i-r.bl),t.lineTo(e,a+r.tl),t.quadraticCurveTo(e,a,e+r.tl,a),t.closePath(),t.fill(),o&&t.stroke()}var yt=function(t){function e(t){return Object(it.a)(this,e),Object(ot.a)(this,Object(st.a)(e).call(this,t))}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this);var t=this.ctx,a=this.oneThirdCanvasWidth,n=this.oneHalfCanvasHeight,i=this.windowFrameThickness;t.fillStyle="#3D1A1E",t.fillRect(a-i,n/2-i,a+2*i,n+2*i),t.clearRect(a,n/2,a,n);var r=Math.floor(i/2),o=4*a/3-2*r/3,s=5*a/3-r/3,c=n/2-i,h=a-i,l=5*n/6-2*r/3,u=7*n/6-r/3;t.fillRect(o,c,r,n+2*i),t.fillRect(s,c,r,n+2*i),t.fillRect(h,l,a+2*i,r),t.fillRect(h,u,a+2*i,r),t.fillStyle="#682634",t.fillRect(a-2*i,n/2-2*i,a+4*i,i-1),pt(t,a-2*i,3*n/2+i+1,a+4*i,i,{tl:0,tr:0,bl:this.roundedRadius,br:this.roundedRadius}),t.lineWidth=2,t.strokeStyle="#682634",t.rect(a-2*i/3,n/2-2*i/3,a+4*i/3,n+4*i/3),t.stroke(),t.rect(a-5*i/9,n/2-5*i/9,a+10*i/9,n+10*i/9),t.stroke()}}]),e}(ut),Ot=function(t){function e(t){return Object(it.a)(this,e),Object(ot.a)(this,Object(st.a)(e).call(this,t))}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"dresser",value:function(){var t=this.ctx,e=this.canvasWidth,a=this.canvasHeight,n=this.windowFrameThickness,i=2*e/3+5*n,r=2*a/3;t.fillStyle="#122C2B",t.fillRect(i,r,e,a),t.strokeStyle="#091c1b",t.lineWidth=3,t.beginPath(),t.rect(i+n,r+n,e,a),t.stroke();var o=i+n+3*(e-(i+n))/5;t.beginPath(),t.moveTo(o,r+2.5*n),t.lineTo(e,r+2.5*n),t.lineWidth=2*n/3,t.stroke(),t.beginPath(),t.moveTo(i+n,r+6*n),t.lineTo(e,r+6*n),t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(o,r+7.5*n),t.lineTo(e,r+7.5*n),t.lineWidth=2*n/3,t.stroke()}},{key:"stereo",value:function(){var t=this.ctx,e=this.canvasWidth,a=this.canvasHeight,n=this.windowFrameThickness,i=3.5*n,r=.2*a,o=2*e/3+5*n+4*n,s=2*a/3-r;t.fillStyle="#222",t.fillRect(o,s,i,r);var c=Math.min(i,r)/8,h=o+i/2,l=s+2*c;t.fillStyle="#111",t.beginPath(),t.arc(h,l,c,0,2*Math.PI),t.fill();var u=n/10;t.fillStyle="#111",t.fillRect(o-u,s,u,r),t.fillRect(o+i,s,u,r);var d=o+i+u,v=.8*r,f=s+r-v;t.fillStyle="#222",t.fillRect(d,f,e,v);var m=d+n/2;t.fillStyle="#444",t.strokeStyle="#111",t.lineWidth=n/8,t.beginPath(),t.rect(m,f+1.5*n,e,.25*v),t.fill(),t.stroke(),t.fillStyle="#111",t.fillRect(m,f+n,e,n/4);var g=f+v-.8*n;t.fillRect(d+2*n,g,e,n/4),t.fillStyle="#444";var w=n/2,b=d+n,p=g+n/8;t.beginPath(),t.arc(b,p,w,0,2*Math.PI),t.fill(),t.clip(),t.save(),t.translate(b,p);var y=.75*Math.PI,O={x:Math.sin(y)*(w-n/4),y:Math.cos(y)*(w-n/4)},k={x:Math.sin(y)*w*2,y:Math.cos(y)*w*2};t.lineWidth=n/8,t.lineCap="round",t.beginPath(),t.moveTo(O.x,O.y),t.lineTo(k.x,k.y),t.stroke(),t.restore(),t.restore()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.dresser(),this.stereo(),this.tick()}},{key:"tick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.ctx,a=this.canvasWidth,n=this.canvasHeight,i=this.windowFrameThickness,r=3.5*i,o=.2*n,s=2*a/3+5*i+4*i,c=2*n/3-o,h=Math.min(r,o)/8,l=s+r/2,u=Math.min(r,o)/2.5,d=Math.max(c+u+4*h,c+o-(u+2*h));e.strokeStyle="#444",e.fillStyle="#222",e.lineWidth=i/8,e.beginPath(),e.arc(l,d,u,0,2*Math.PI),e.fill(),e.stroke(),e.fillStyle="#111",e.beginPath(),e.arc(l,d,t?.63*u:.6*u,0,2*Math.PI),e.fill()}}]),e}(ut),kt=a(8),xt=function(t){function e(t){var a;Object(it.a)(this,e),(a=Object(ot.a)(this,Object(st.a)(e).call(this,t))).pictures=[];var n=Object(kt.a)(Object(kt.a)(a)),i=n.oneThirdCanvasWidth,r=n.windowFrameThickness;return a.pictures.push({x:3*i/4-4*r,y:-r,width:4*r,height:5*r}),a.pictures.push({x:a.pictures[0].x-7*r,y:2*r,width:5*r,height:4*r}),a.pictures.push({x:a.pictures[1].x+2*r,y:a.pictures[1].y+a.pictures[1].height+1.5*r,width:6*r,height:8*r}),a}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"graph",value:function(){var t=this.ctx,e=this.windowFrameThickness,a=this.pictures[0],n=a.x,i=a.y,r=a.width,o=a.height;t.save(),t.beginPath(),t.rect(n,i,r,o),t.clip();var s=t.createLinearGradient(n,i,n,i+o);s.addColorStop(0,"#24131f"),s.addColorStop(1,"#051b1f"),t.fillStyle=s,t.fill();for(var c=[],h=e/6,l=0;l<20;l++)c.push({x:Math.floor(Math.random()*r+n),y:Math.floor(Math.random()*o+i)});var u,d;for(t.fillStyle="#703c3a",t.strokeStyle="#703c3a",t.lineWidth=1;c.length;){var v=c.pop();t.beginPath(),t.arc(v.x,v.y,h/2,0,2*Math.PI),t.fill();for(var f=0;f<c.length;f++){var m=c[f];u=v,d=m,Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2))<o/4&&(t.beginPath(),t.moveTo(v.x,v.y),t.lineTo(m.x,m.y),t.stroke())}}t.strokeStyle="#122C2B",t.lineWidth=e/1.5,t.beginPath(),t.rect(n,i,r,o),t.stroke(),t.restore()}},{key:"orbits",value:function(){var t=this.ctx,e=this.windowFrameThickness,a=this.pictures[1],n=a.x,i=a.y,r=a.width,o=a.height;t.save(),t.beginPath(),t.rect(n,i,r,o),t.clip();var s=t.createLinearGradient(n,i,n,i+o);s.addColorStop(0,"#556e53"),s.addColorStop(1,"#29435c"),t.fillStyle=s,t.fill();t.fillStyle="#879591",t.strokeStyle="#879591",t.beginPath(),t.arc(n+r/2,i+o/2,o/14,0,2*Math.PI),t.fill();for(var c=Math.floor(o/6);c<=o/2;c+=e/4){t.beginPath(),t.arc(n+r/2,i+o/2,c,0,2*Math.PI),t.stroke();var h=Math.random()*Math.PI*2,l=n+r/2+Math.cos(h)*c,u=i+o/2+Math.sin(h)*c,d=Math.random()*(r/64)+r/192;t.beginPath(),t.arc(l,u,d,0,2*Math.PI),t.fill()}t.strokeStyle="#152a38",t.lineWidth=e/1.2,t.beginPath(),t.rect(n,i,r,o),t.stroke(),t.restore()}},{key:"stars",value:function(){var t=this.ctx,e=this.windowFrameThickness,a=this.pictures[2],n=a.x,i=a.y,r=a.width,o=a.height;t.save(),t.beginPath(),t.rect(n,i,r,o),t.clip();var s=t.createLinearGradient(n,i,n,i+o);s.addColorStop(0,"#09325E"),s.addColorStop(.75,"#2A2A47"),t.fillStyle=s,t.fill(),t.fillStyle="#F5E7F8";for(var c=0;c<60;c++){var h=Math.floor(Math.random()*r+n),l=Math.floor(Math.random()*o+i),u=Math.floor(2*Math.random()+1);t.beginPath(),t.arc(h,l,u,0,2*Math.PI),t.fill()}t.strokeStyle="#0D0B21",t.lineWidth=e/1.5,t.beginPath(),t.rect(n,i,r,o),t.stroke(),t.restore()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.graph(),this.orbits(),this.stars(),this.pictures=[]}}]),e}(ut),jt=["#564837","#713C3A"],Tt=function(t){function e(t){var a;return Object(it.a)(this,e),(a=Object(ot.a)(this,Object(st.a)(e).call(this,t))).y=void 0,a.y=.7*a.canvasHeight,a}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"top",value:function(){var t=this.ctx,e=this.y,a=this.windowFrameThickness,n=.7*this.oneThirdCanvasWidth,i=1.35*a,r={tl:0,tr:this.roundedRadius,br:0,bl:0};t.fillStyle="#122C2B",pt(t,0,e,n,i,r),t.fillStyle="#06151A",t.beginPath(),t.rect(0,e+i-a/4,n,a/4),t.fill()}},{key:"leg",value:function(){var t=this.ctx,e=this.y,a=this.windowFrameThickness,n=this.canvasHeight,i=this.oneThirdCanvasWidth;t.strokeStyle="#122C2B",t.lineWidth=1.5*a,t.beginPath(),t.moveTo(.5*i,e),t.lineTo(.5*i,n),t.stroke()}},{key:"centerpiece",value:function(){for(var t=this.ctx,e=this.y,a=this.windowFrameThickness,n=this.canvasWidth,i=this.oneThirdCanvasWidth,r=.25*i,o=.3*i,s=2*a,c=[{xOffset:(o-.4*o)/4,y:e-s,radius:.2*o,color:jt[0],stemAngle:.9*Math.PI},{xOffset:-(o-.4*o)/4,y:e-s+s/8,radius:.2*o,color:jt[1],stemAngle:1.1*Math.PI}],h=0;h<c.length;h++){var l=c[h];t.fillStyle=l.color,t.beginPath(),t.arc(r+l.xOffset,l.y,l.radius,0,2*Math.PI),t.fill()}t.strokeStyle="#04070F",t.lineCap="round",t.lineWidth=2;for(var u=0;u<c.length;u++){var d=c[u];t.save(),t.translate(r+d.xOffset,d.y);var v={x:Math.sin(d.stemAngle)*c[1].radius*.9,y:Math.cos(d.stemAngle)*c[1].radius*.9},f={x:Math.sin(d.stemAngle)*c[1].radius*1.1,y:Math.cos(d.stemAngle)*c[1].radius*1.1};t.beginPath(),t.moveTo(v.x,v.y),t.lineTo(f.x,f.y),t.stroke(),t.restore()}var m={tl:0,tr:0,br:.1*i,bl:.1*i},g=s/8,w=.5*o;t.fillStyle="#1e1e1e",t.fillRect(r-w/2,e-s-g,w,s+g),t.fillStyle="#3e3e3e",pt(t,r-o/2,e-s-g,o,s,m),t.save(),t.clip(),t.lineWidth=2,t.strokeStyle="#06151A";var b=e-s-g+s/6;t.beginPath(),t.moveTo(0,b),t.lineTo(n,b),t.stroke(),t.restore()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.leg(),this.top(),this.centerpiece()}}]),e}(ut),Mt=function(t){function e(t){var a;Object(it.a)(this,e),(a=Object(ot.a)(this,Object(st.a)(e).call(this,t))).clockSize=void 0,a.clockCoords=void 0,a.clockSize=5*a.windowFrameThickness;var n=Math.max(.7*a.canvasWidth,2*a.canvasWidth/3+8*a.windowFrameThickness),i=a.canvasHeight/5;return a.clockCoords={x:n,y:i},a}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"face",value:function(){var t=this.ctx,e=this.clockSize,a=this.clockCoords,n=a.x,i=a.y;t.strokeStyle="#122C2B",t.lineWidth=this.windowFrameThickness/2,t.beginPath(),t.arc(n,i,e/1.75,0,2*Math.PI,!0),t.stroke(),t.strokeStyle="#06151A",t.beginPath(),t.arc(n,i,e/2,0,2*Math.PI,!0),t.stroke(),t.beginPath(),t.arc(n,i,e/2,0,2*Math.PI,!0),t.fillStyle="#4B4721",t.fill(),t.lineWidth=2,t.strokeStyle="#192124",t.save(),t.translate(n,i);for(var r=1;r<=60;r++){var o=r*Math.PI/30,s={x:Math.sin(o)*(e/2-e/20),y:Math.cos(o)*(e/2-e/20)},c={x:Math.sin(o)*(e/2-e/15),y:Math.cos(o)*(e/2-e/15)};t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(c.x,c.y),t.stroke()}t.restore()}},{key:"hands",value:function(){var t=this.ctx,e=this.clockSize,a=this.clockCoords,n=a.x,i=a.y;t.beginPath(),t.arc(n,i,e/2-e/15,0,2*Math.PI,!0),t.fillStyle="#4B4721",t.fill(),t.lineWidth=e/40,t.lineCap="round",t.strokeStyle="#192124",t.save(),t.translate(n,i);var r=new Date,o=r.getHours(),s=r.getMinutes(),c=r.getSeconds();t.save(),t.rotate(Math.PI/6*(o+s/60+c/3600)),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/4),t.stroke(),t.restore(),t.save(),t.rotate(Math.PI/30*(s+c/60)),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/2.75),t.stroke(),t.restore(),t.lineWidth=e/100,t.save(),t.rotate(Math.PI/30*c),t.beginPath(),t.moveTo(0,10),t.lineTo(0,-e/2.7),t.stroke(),t.restore(),t.restore()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.face(),this.hands()}},{key:"tick",value:function(){this.hands()}}]),e}(ut),Et=function(t){function e(t){var a;Object(it.a)(this,e),(a=Object(ot.a)(this,Object(st.a)(e).call(this,t))).isWagging=!1,a.prevTailAngle=-Math.PI/2,a.headRadius=void 0,a.bodyHeight=void 0,a.bodyWidth=void 0,a.x=void 0,a.createdTimestamp=void 0,a.tailWidth=void 0,a.tailY=void 0;var n=Object(kt.a)(Object(kt.a)(a)),i=n.windowFrameThickness,r=n.oneThirdCanvasWidth,o=n.oneHalfCanvasHeight;return a.x=2*r-1.2*i,a.headRadius=i,a.bodyHeight=3*i,a.bodyWidth=2.2*i,a.createdTimestamp=Date.now(),a.tailWidth=i/2,a.tailY=3*o/2+i-a.tailWidth/2,a}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"head",value:function(){var t=this.ctx,e=this.oneHalfCanvasHeight,a=this.x,n=this.headRadius,i=3*e/2-this.bodyHeight-this.headRadius;t.fillStyle="#000",t.strokeStyle="#000",t.beginPath(),t.arc(a,i,n,0,2*Math.PI),t.fill(),t.save(),t.translate(a,i),t.lineWidth=5,t.lineJoin="round";var r={start:{x:Math.sin(.85*Math.PI)*n,y:Math.cos(.85*Math.PI)*n},point:{x:Math.sin(.8*Math.PI)*n*1.4,y:Math.cos(.8*Math.PI)*n*1.4},end:{x:Math.sin(.7*Math.PI)*n,y:Math.cos(.7*Math.PI)*n}};t.beginPath(),t.moveTo(r.start.x,r.start.y),t.lineTo(r.point.x,r.point.y),t.lineTo(r.end.x,r.end.y),t.closePath(),t.fill(),t.stroke();var o={start:{x:Math.sin(1.2*Math.PI)*n,y:Math.cos(1.2*Math.PI)*n},point:{x:Math.sin(1.22*Math.PI)*n*1.5,y:Math.cos(1.22*Math.PI)*n*1.5},end:{x:Math.sin(1.3*Math.PI)*n,y:Math.cos(1.3*Math.PI)*n}};t.beginPath(),t.moveTo(o.start.x,o.start.y),t.lineTo(o.point.x,o.point.y),t.lineTo(o.end.x,o.end.y),t.closePath(),t.fill(),t.stroke(),t.restore()}},{key:"body",value:function(){var t=this.ctx,e=this.oneHalfCanvasHeight,a=this.windowFrameThickness,n=this.x,i=this.headRadius,r=this.bodyWidth,o=this.bodyHeight,s=3*e/2-o;t.beginPath(),t.moveTo(n,s-i/2),t.quadraticCurveTo(n-.75*r,s+o/4,n-r/3,s+o+a),t.lineTo(n+r/2,s+o+a),t.quadraticCurveTo(n+1.2*r,s+o+a,n+r/3,s-i/3),t.closePath(),t.fill(),t.beginPath(),t.moveTo(n-r/4,s+.3*o),t.quadraticCurveTo(n-r,s+o,n-r/3,s+o+a),t.lineTo(n+r/2,s+o+a),t.closePath(),t.fill()}},{key:"tail",value:function(){var t=this.ctx,e=this.tailWidth,a=this.x,n=this.bodyWidth,i=this.tailY;t.lineWidth=e,t.lineCap="round",t.beginPath(),t.moveTo(a,i),t.lineTo(a-n,i),t.stroke()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this);var t=this.ctx,a=this.canvasWidth,n=this.canvasHeight;t.clearRect(0,0,a,n),this.head(),this.body(),this.tail()}},{key:"tick",value:function(){var t=this.ctx,e=this.canvasWidth,a=this.canvasHeight,n=this.createdTimestamp,i=this.x,r=this.bodyWidth,o=this.tailY;t.clearRect(0,0,e,a),this.head(),this.body();var s=Date.now()-n,c=-Math.PI/2+Math.sin(s/200)*-Math.PI/20;if(this.prevTailAngle>-Math.PI/2&&c<-Math.PI/2&&(this.isWagging=Math.random()<.1),this.prevTailAngle=c,c>-Math.PI/2&&(c=-Math.PI/2),this.isWagging){t.save(),t.translate(i,o);var h={x:Math.sin(c)*r,y:Math.cos(c)*r};t.beginPath(),t.moveTo(0,0),t.quadraticCurveTo(-r,-Math.cos(c)*r/10,h.x,h.y),t.stroke(),t.restore()}else this.tail()}}]),e}(ut),Pt=function(t){function e(t){var a;Object(it.a)(this,e),(a=Object(ot.a)(this,Object(st.a)(e).call(this,t))).stemX=void 0,a.stemHeight=void 0,a.lampWidth=void 0,a.shadeTopLeft=void 0,a.shadeTopRight=void 0,a.shadeBottomRight=void 0,a.shadeBottomLeft=void 0;var n=Object(kt.a)(Object(kt.a)(a)),i=n.canvasWidth,r=n.canvasHeight,o=n.windowFrameThickness;return a.stemX=7*i/11,a.stemHeight=r/5,a.lampWidth=3.5*o,a.shadeTopLeft={x:a.stemX-o/5,y:a.stemHeight+o},a.shadeTopRight={x:a.stemX+o/5,y:a.stemHeight+o},a.shadeBottomRight={x:a.stemX+a.lampWidth/2,y:a.stemHeight+3*o},a.shadeBottomLeft={x:a.stemX-a.lampWidth/2,y:a.stemHeight+3*o},a}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"stem",value:function(){var t=this.ctx,e=this.windowFrameThickness,a=this.stemX,n=this.stemHeight;t.strokeStyle="#8e8e8e",t.fillStyle="#8e8e8e",t.lineWidth=e/5,t.beginPath(),t.moveTo(a,0),t.lineTo(a,n),t.stroke(),t.lineWidth=1,t.fillRect(a-e/5,n-1,2*e/5,e),t.stroke()}},{key:"lampshade",value:function(){var t=this.ctx,e=this.shadeTopLeft,a=this.shadeTopRight,n=this.shadeBottomRight,i=this.shadeBottomLeft;t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(a.x,a.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath(),t.fill(),t.stroke(),t.fillStyle="#ff7",t.fillRect(i.x,i.y,n.x-i.x,2)}},{key:"light",value:function(){var t=this.ctx,e=this.canvasHeight,a=this.windowFrameThickness,n=this.stemX,i=this.stemHeight,r=this.lampWidth,o=this.shadeTopLeft,s=this.shadeBottomRight,c=this.shadeBottomLeft;t.fillStyle="rgba(252, 243, 126, 0.085)";var h=e-c.y,l=function(t,e){var a=e.x-t.x,n=e.y-t.y;return Math.atan2(n,a)}(c,{x:o.x,y:c.y+c.y-o.y}),u=h/Math.tan(l),d=c.x-u,v=s.x+u;t.beginPath(),t.moveTo(n-r/2,i+3*a),t.lineTo(n+r/2,i+3*a),t.lineTo(v,e),t.lineTo(d,e),t.fill()}},{key:"render",value:function(){Object(ct.a)(Object(st.a)(e.prototype),"render",this).call(this),this.stem(),this.lampshade(),this.tick()}},{key:"tick",value:function(){var t=this.ctx,e=this.canvasWidth,a=this.canvasHeight,n=this.windowFrameThickness,i=this.stemHeight;t.clearRect(0,i+3*n+2,e,a),this.light()}}]),e}(ut),St=function(t){function e(t){var a;return Object(it.a)(this,e),(a=Object(ot.a)(this,Object(st.a)(e).call(this,t))).wall=void 0,a.window=void 0,a.dresser=void 0,a.pictures=void 0,a.table=void 0,a.clock=void 0,a.wall=new wt(t),a.window=new yt(t),a.dresser=new Ot(t),a.pictures=new xt(t),a.table=new Tt(t),a.clock=new Mt(t),a}return Object(ht.a)(e,t),Object(rt.a)(e,[{key:"render",value:function(){this.wall.render(),this.window.render(),this.dresser.render(),this.pictures.render(),this.table.render(),this.clock.render()}}]),e}(ut),Ct=(a(45),[{component:w(function(t){var e=t.data,a=t.isBeat,r=t.lowPassIntensity,o=Object(n.useRef)(null),s=Object(n.useRef)();S(function(){var t=o.current,e=window;!function(e,a,n){t.width=e*n,t.height=a*n;var i=t.getContext("2d"),r=new vt(i);s.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var c=Object(n.useRef)(null),h=Object(n.useRef)();S(function(){var t=c.current,e=window;!function(e,a,n){t.width=e*n,t.height=a*n;var i=t.getContext("2d"),r=h.current;null==r?h.current=new gt(i):((r=h.current).canvasWidth=e*n,r.canvasHeight=a*n)}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var l=Object(n.useRef)(null),u=Object(n.useRef)(),d=Object(n.useRef)();S(function(){var t=l.current,e=window;!function(e,a,n){t.width=e*n,t.height=a*n;var i=t.getContext("2d"),r=new St(i);u.current=r,r.render(),d.current&&window.clearTimeout(d.current),d.current=window.setInterval(function(){return r.clock.tick()},1e3)}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var v=Object(n.useRef)(null),f=Object(n.useRef)();S(function(){var t=v.current,e=window;!function(e,a,n){t.width=e*n,t.height=a*n;var i=t.getContext("2d"),r=new Et(i);f.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]);var m=Object(n.useRef)(null),g=Object(n.useRef)();return S(function(){var t=m.current,e=window;!function(e,a,n){t.width=e*n,t.height=a*n;var i=t.getContext("2d"),r=new Pt(i);g.current=r,r.render()}(e.innerWidth,e.innerHeight,e.devicePixelRatio)},[]),Object(n.useEffect)(function(){var t=u.current,e=h.current,n=f.current,i=g.current,o=Math.floor(r/2);o<1?o=1:o>15&&(o=15);for(var s=0;s<o;)e.add(),s+=1;e.tick(),t.dresser.tick(a),i.tick(),n.tick();var l=c.current;l.getContext("2d").clearRect(0,0,l.width,l.height),e.render()},[e]),i.a.createElement("div",{className:"rain"},i.a.createElement("canvas",{ref:o}),i.a.createElement("canvas",{ref:c}),i.a.createElement("canvas",{ref:l}),i.a.createElement("canvas",{ref:v}),i.a.createElement("canvas",{ref:m}))})},{component:nt,options:{smoothing:128}},{component:C},{component:R,options:{smoothing:64}},{component:B}]),It=Ct.map(function(t){return function(e){e.style;var a=Object(f.a)(e,["style"]);return i.a.createElement(m.a.div,{className:"visualization",style:e.style},i.a.createElement(t.component,Object.assign({},a,{options:t.options})))}}),At=Object(s.b)(function(t){return{currentIndex:t.currentVisualizationIndex,prevIndex:t.prevVisualizationIndex}})(function(t){var e=t.data,a=t.lowPassData,r=t.prevIndex,o=t.currentIndex,s=j(o,Ct.length),c=Object(n.useCallback)(function(t,e){var a=0;return t<e?a=1:e<t&&(a=-1),"translate3d(".concat(100*a,"%, 0, 0)")},[]),h=Object(m.d)(s,null,{from:{transform:c(o,r)},enter:{transform:c()},leave:{transform:c(r,o)},initial:{transform:c(0,-1)}});return i.a.createElement(i.a.Fragment,null,h.map(function(t){var n=t.item,r=t.props,o=t.key,s=It[n];return i.a.createElement(s,{key:o,data:e,lowPassData:a,style:r})}))}),Rt=function(t){var e=t.audioContext,a=t.audioSource,r=Object(n.useState)(new Uint8Array),o=Object(v.a)(r,2),s=o[0],c=o[1],h=Object(n.useState)(new Uint8Array),l=Object(v.a)(h,2),u=l[0],d=l[1],f=Object(n.useRef)();return Object(n.useEffect)(function(){if(null!=e&&null!=a){var t=e.createAnalyser();t.fftSize=512,t.smoothingTimeConstant=0,a.connect(t),t.connect(e.destination);var n=e.createBiquadFilter();n.type="lowpass";var i=e.createAnalyser();return i.fftSize=512,i.smoothingTimeConstant=0,a.connect(n),n.connect(i),f.current=window.requestAnimationFrame(function e(){var a=new Uint8Array(512);t.getByteTimeDomainData(a),c(a);var n=new Uint8Array(512);i.getByteTimeDomainData(n),d(n),f.current=window.requestAnimationFrame(e)}),function(){null!=f.current&&window.cancelAnimationFrame(f.current),t&&t.disconnect(),i&&i.disconnect(),a&&a.disconnect()}}},[e,a]),i.a.createElement(At,{data:s,lowPassData:u})},Wt=(a(46),function(t){var e=t.isShown,a=void 0===e||e;return i.a.createElement("div",{className:A()("loading",{show:a})},i.a.createElement("span",{className:"loading-dot"}),i.a.createElement("span",{className:"loading-dot"}),i.a.createElement("span",{className:"loading-dot"}))}),Ht=a(30),Ft=a(25),Lt=a(27),Dt=(a(50),[{artist:"Nujabes",title:"Aruarian Dance",path:"https://blackwright-late.s3.amazonaws.com/nujabes-aruarian-dance.mp3"},{artist:"B\xd8JET",title:"Lost",path:"https://blackwright-late.s3.amazonaws.com/b%C3%B8jet-lost.mp3"},{artist:"Kudasai",title:"Dream of Her",path:"https://blackwright-late.s3.amazonaws.com/kudasai-dream-of-her.mp3"},{artist:"Wys",title:"Close My Eyes",path:"https://blackwright-late.s3.amazonaws.com/wys-close-my-eyes.mp3"},{artist:"Sky.High",title:"Cold Days (feat. j'san)",path:"https://blackwright-late.s3.amazonaws.com/sky.high-cold-days-feat-jsan.mp3"},{artist:"Kudasai",title:"The Girl I Haven't Met",path:"https://blackwright-late.s3.amazonaws.com/kudasai-the-girl.mp3"},{artist:"Fujitsu",title:"Awaiting",path:"https://blackwright-late.s3.amazonaws.com/fujitsu-awaiting.mp3"},{artist:"Nymano",title:"For You",path:"https://blackwright-late.s3.amazonaws.com/nymano-for-you.mp3"},{artist:"Kudasai",title:"Technicolor",path:"https://blackwright-late.s3.amazonaws.com/kudasai-technicolor.mp3"},{artist:"Juan Rios",title:"Noche",path:"https://blackwright-late.s3.amazonaws.com/juan-rios-noche.mp3"},{artist:"Philanthrope",title:"Carwash",path:"https://blackwright-late.s3.amazonaws.com/philanthrope-carwash.mp3"},{artist:"agxxd1ne",title:"Sunday Morning",path:"https://blackwright-late.s3.amazonaws.com/agxxd1ne-sunday-morning.mp3"},{artist:"Flamingosis",title:"Football Head",path:"https://blackwright-late.s3.amazonaws.com/flamingosis-football-head.mp3"},{artist:"Nujabes",title:"Counting Stars",path:"https://blackwright-late.s3.amazonaws.com/nujabes-counting-stars.mp3"}]),Nt=function(t){var e=t.onHover,a=t.onHoverStop,n=t.audioIndex,r=t.prevTrack,o=t.nextTrack,s=Dt[n];return i.a.createElement("div",{id:"audio-controls",onMouseEnter:e,onMouseLeave:a},s.artist.toLocaleLowerCase()," - ",s.title.toLocaleLowerCase(),i.a.createElement("div",{id:"track-controls"},i.a.createElement("button",{onTouchEnd:r,onMouseUp:r},i.a.createElement(Ft.a,{icon:Lt.a,size:"xs"})),i.a.createElement("button",{onTouchEnd:o,onMouseUp:o},i.a.createElement(Ft.a,{icon:Lt.b,size:"xs"}))))},zt=(a(51),Object(s.b)(null,function(t){return{goToNextVisualization:function(){return t({type:c.GO_TO_NEXT_VISUALIZATION})},goToPrevVisualization:function(){return t({type:c.GO_TO_PREV_VISUALIZATION})}}})(function(t){var e=Object(n.useState)(!0),a=Object(v.a)(e,2),r=a[0],o=a[1],s=Object(n.useState)(!1),c=Object(v.a)(s,2),h=c[0],l=c[1],u=Object(n.useRef)(),d=Object(n.useRef)();Object(n.useEffect)(function(){var e=function(e){switch(e.which){case 37:case 38:t.goToPrevVisualization();break;case 39:case 40:t.goToNextVisualization()}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[]);var f=Object(n.useCallback)(function(){null!=u.current&&window.clearTimeout(u.current),o(!0),u.current=window.setTimeout(function(){h||o(!1)},1500)},[h]),m=Object(n.useCallback)(function(){t.audioContext&&t.audioContext.resume(),t.togglePlay(),f()},[t.audioContext,t.togglePlay]),g=Object(n.useCallback)(function(t){t.preventDefault(),d.current={timestamp:Date.now(),x:t.touches[0].clientX}},[]),w=function(){return window.open("https://github.com/blackwright/late")},b=Object(n.useCallback)(function(t){1===t.nativeEvent.which&&(d.current={timestamp:Date.now(),x:t.clientX})},[]),p=Object(n.useCallback)(function(t){1===t.nativeEvent.which&&d.current&&Date.now()-d.current.timestamp<250&&m()},[]),y=Object(n.useCallback)(function(e){if(e.preventDefault(),d.current&&Date.now()-d.current.timestamp<250&&f(),d.current&&Date.now()-d.current.timestamp<350){var a=e.changedTouches[0].clientX-d.current.x;Math.abs(a)>50&&(a<0?t.goToPrevVisualization():t.goToNextVisualization())}},[h]),O=Object(n.useCallback)(function(e){e.preventDefault(),t.goToPrevVisualization(),f()},[h]),k=Object(n.useCallback)(function(e){e.preventDefault(),t.goToNextVisualization(),f()},[h]),x=Object(n.useCallback)(function(){return l(!0)},[]),j=Object(n.useCallback)(function(){return l(!1)},[]),T=t.wantsToPlay,M=t.isPlaying,E=t.audioIndex,P=t.prevTrack,S=t.nextTrack;return i.a.createElement(i.a.Fragment,null,T&&!M&&i.a.createElement(Wt,null),i.a.createElement("div",{id:"overlay",onTouchStart:g,onTouchEnd:y,onMouseMove:f,className:A()({show:r})},i.a.createElement("h1",{id:"title",onClick:w,onTouchEnd:w,onMouseEnter:x,onMouseLeave:j},"late"),i.a.createElement("div",{id:"version"},"build ",Ht.a),i.a.createElement("div",{id:"play-pause-container",onMouseDown:b,onMouseUp:p,onTouchEnd:m,onMouseEnter:x,onMouseLeave:j},i.a.createElement("div",{className:A()({play:!T&&!M,pause:T&&M})})),i.a.createElement("div",{className:"navigation"},i.a.createElement("div",{className:"arrow-container",onTouchEnd:O,onMouseUp:O,onMouseEnter:x,onMouseLeave:j},i.a.createElement("svg",{className:"arrow",width:"60px",height:"80px",viewBox:"0 0 50 80"},i.a.createElement("polyline",{fill:"none",stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"45.63,75.8 0.375,38.087 45.63,0.375"}))),i.a.createElement("div",{className:"arrow-container",onTouchEnd:k,onMouseUp:k,onMouseEnter:x,onMouseLeave:j},i.a.createElement("svg",{className:"arrow",width:"60px",height:"80px",viewBox:"0 0 50 80"},i.a.createElement("polyline",{fill:"none",stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"0.375,0.375 45.63,38.087 0.375,75.8"})))),i.a.createElement(Nt,{onHover:x,onHoverStop:j,audioIndex:E,prevTrack:P,nextTrack:S})))})),_t=function(){var t=Object(n.useState)(!1),e=Object(v.a)(t,2),a=e[0],r=e[1],o=Object(n.useState)(!1),s=Object(v.a)(o,2),c=s[0],h=s[1],l=P(void 0),u=Object(v.a)(l,3),d=u[0],f=u[1],m=u[2],g=Object(n.useState)(),w=Object(v.a)(g,2),b=w[0],p=w[1],y=P(0),O=Object(v.a)(y,3),k=O[0],x=O[1],T=(O[2],Object(n.useRef)(null)),M=Object(n.useCallback)(function(){var t=T.current,e=j(k+1,Dt.length);t.src=Dt[e].path,t.play(),x(e)},[k,T.current]),E=Object(n.useCallback)(function(){var t=T.current,e=j(k-1,Dt.length),a=t.currentTime>5;t.src=Dt[a?k:e].path,t.play(),x(e)},[k,T.current]);Object(n.useEffect)(function(){var t=T.current,e=function(){return h(!0)},a=function(){return h(!1)},n=console.error;return t.addEventListener("playing",e),t.addEventListener("pause",a),t.addEventListener("error",n),function(){t.removeEventListener("playing",e),t.removeEventListener("pause",a),t.removeEventListener("error",n)}},[]),Object(n.useEffect)(function(){var t=T.current;return t.addEventListener("ended",M),function(){return t.removeEventListener("ended",M)}},[k,T.current]);var S=Object(n.useCallback)(function(){var t=T.current,e=new(window.AudioContext||window.webkitAudioContext),a=e.createMediaElementSource(t);f(e),p(a)},[T.current]),C=Object(n.useCallback)(function(){var t=T.current;t.paused?(r(!0),t.play(),m.current||S()):(r(!1),t.pause())},[T.current]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("audio",{ref:T,id:"audioElement",src:Dt[0].path,preload:"auto",crossOrigin:"anonymous"}),i.a.createElement(Rt,{audioContext:d,audioSource:b}),i.a.createElement(zt,{audioContext:d,wantsToPlay:a,isPlaying:c,togglePlay:C,audioIndex:k,prevTrack:E,nextTrack:M}))};a(52),a(53);o.a.render(i.a.createElement(s.a,{store:d},i.a.createElement(_t,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.5af3556b.chunk.js.map