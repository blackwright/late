(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e){e.exports={a:71}},28:function(e,t,n){e.exports=n(50)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(18),o=n.n(r),s=n(10);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,l=n(19),h=n(16);!function(e){e.BEGIN_VISUALIZATION_TRANSITION="BEGIN_VISUALIZATION_TRANSITION",e.END_VISUALIZATION_TRANSITION="END_VISUALIZATION_TRANSITION",e.GO_TO_PREV_VISUALIZATION="GO_TO_PREV_VISUALIZATION",e.GO_TO_NEXT_VISUALIZATION="GO_TO_NEXT_VISUALIZATION",e.SET_QUALITY="SET_QUALITY"}(c||(c={}));var u={currentVisualizationIndex:0,prevVisualizationIndex:0,quality:2};var d=Object(l.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.GO_TO_NEXT_VISUALIZATION:return Object(h.a)({},e,{currentVisualizationIndex:e.currentVisualizationIndex+1,prevVisualizationIndex:e.currentVisualizationIndex});case c.GO_TO_PREV_VISUALIZATION:return Object(h.a)({},e,{currentVisualizationIndex:e.currentVisualizationIndex-1,prevVisualizationIndex:e.currentVisualizationIndex});case c.SET_QUALITY:return Object(h.a)({},e,{quality:t.quality});default:return e}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),v=n(9),f=n(20),m=n(11),w=(n(37),{data:new Uint8Array,lowPassData:new Uint8Array,options:{},quality:2});function b(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=t.data,r=t.lowPassData,o=t.options,s=t.quality,c=Object(i.useRef)([]),l=Object(i.useRef)([]),h=Object(i.useRef)(Date.now()),u=0,d=0,v=n.map(function(e,t){u+=Math.abs(e-128);var i=r[t];if(d+=Math.abs(i-128),null!=o&&o.smoothing){for(var a=0,s=0,c=t-o.smoothing;c<t+o.smoothing;){a+=n[c]||128,s+=1,c+=1}return a/s}return e}),f=0,m=0,b=0,g=0;c.current.forEach(function(e,t){e>f&&(f=e);var n=l.current[t];m+=n,b+=1,n>g&&(g=n)});var y=u/n.length,p=m/b||0,O=d/r.length;c.current=c.current.concat(y),l.current=l.current.concat(O),Date.now()-h.current>2e3&&(c.current.shift(),l.current.shift());var E=O>1.5*p;return a.a.createElement(e,{data:v,lowPassData:r,isBeat:E,intensity:y,lowPassIntensity:O,quality:s})}}var g=n(14),y=[["#0E9AA7","#F6CD61","#FE8A71"],["#EE4540","#801336","#2D142C"],["#8FB9A8","#FDFBD4","#FCD0BA"],["#AC6D83","#685D79","#465C7A"],["#F36E38","#EF4648","#582841"],["#F1F1F1","#9BD7D1","#305D7A"],["#DEA5B6","#F3CD8C","#F2E9C2"],["#E27B47","#EFCA58","#46B29E"],["#2E7345","#2E9975","#2DB3B3"],["#52A3CC","#7EA1E5","#AAAAF2"],["#CC5285","#CC5285","#F2BCAA"],["#D8E0BB","#B6CEC7","#86A3C3"]];y.map(function(e,t){return{id:t,colorTriple:e}});function p(){return y[Math.floor(Math.random()*y.length)]}function O(e,t){for(var n=[];n.length<e;){var i=p(),a=i[Math.floor(Math.random()*i.length)];if(t&&n.includes(a))break;n.push(a)}return n}function E(){return O(1)[0]}function k(){var e=Object(g.a)(p());return Math.random()<=.5?e.reverse():e}n(38);var T=b(function(e){var t=e.data,n=e.quality,r=Object(i.useRef)(null);return Object(i.useEffect)(function(){var e=r.current,t=function(){var t=window,n=t.innerWidth,i=t.innerHeight,a=t.devicePixelRatio,r=void 0===a?1:a;e.width=n*r,e.height=i*r;var o=e.getContext("2d");o.fillStyle="#101010",o.fillRect(0,0,e.width,e.height)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]),Object(i.useEffect)(function(){var e=r.current,t=e.getContext("2d"),n=window.setInterval(function(){t.fillStyle="rgba(0, 0, 0, 0.05)",t.fillRect(0,0,e.width,e.height)},7);return function(){return window.clearInterval(n)}},[]),Object(i.useEffect)(function(){var e=r.current,i=e.getContext("2d");i.lineWidth=10,i.lineCap="round";var a=function(e){switch(e){case 3:return k();case 2:return O(2,!0);case 1:return[E()];default:return k()}}(n+1),o=e.width/t.length;a.forEach(function(n,r){i.strokeStyle=n,i.beginPath();var s=0*r;i.moveTo(s,e.height/2),t.forEach(function(t){var n=t/255*e.height-5*a.length/2;i.lineTo(s,n+r*(5*a.length/2)),s+=o}),i.lineTo(s,e.height/2),i.stroke()})},[t]),a.a.createElement("div",{className:"waveform"},a.a.createElement("div",{className:"backdrop"}),a.a.createElement("canvas",{ref:r}))}),j=n(12),x=n.n(j),M=(n(39),{0:{NUM_DRUMMERS:6},1:{NUM_DRUMMERS:10},2:{NUM_DRUMMERS:16}}),P=b(function(e){var t=e.data,n=e.isBeat,r=e.quality,o=Object(i.useState)(0),s=Object(v.a)(o,2),c=s[0],l=s[1],u=Object(i.useState)(0),d=Object(v.a)(u,2),w=d[0],b=d[1],g=Object(i.useRef)({values:[E()],lastChangedTimestamp:Date.now()});Object(i.useEffect)(function(){var e=function(){var e=window,t=e.innerWidth,n=e.innerHeight,i=Math.max(t,n);l(2*i);var a=Math.sqrt(Math.pow(t,2)+Math.pow(n,2));b(a)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]);for(var y=g.current,p=M[r].NUM_DRUMMERS,O={},k=256/p,T=0;T<p;)O[T]=0,T+=1;t.forEach(function(e){for(var t=0;t<p;){var n=k*(t+1);if(Math.abs(e-128)>10&&e<=n){O[t]+=1;break}t+=1}});var j=Date.now();if(n&&j-y.lastChangedTimestamp>200){var P;do{P=E()}while(y.values[y.values.length-1]===P);y.values.push(P),y.values.length>1&&y.values.shift(),y.lastChangedTimestamp=j}var S=Object.entries(O).map(function(e,t){var n=Object(v.a)(e,2),i=n[0],r=n[1],o=(+i+1)*c/p;return a.a.createElement("div",{key:i,className:"drummer-container",style:{width:"".concat(o,"px"),height:"".concat(o,"px"),opacity:(p-t)/p*.5*.25}},a.a.createElement("div",{className:x()("beat",{hit:r>10.24})}))}),I=c/(2*p),C=Object(m.d)(y.values,null,{from:function(e){return{backgroundColor:e,width:I,height:I,scale:1}},enter:{scale:w/I*1.5},leave:{scale:0},config:m.b.slow});return a.a.createElement("div",{className:"drummer"},S,C.map(function(e){e.item;var t=e.props,n=e.key,i=t,r=i.scale,o=Object(f.a)(i,["scale"]);return a.a.createElement(m.a.div,{className:"color-overlay",key:n,style:Object(h.a)({},o,{transform:Object(m.c)([r],function(e){return"translate3d(0, 0, 0) scale(".concat(e,")")})})})}))}),S=n(2);var I=1500,C=200,R=.025,A=-.3,W=.3,_={0:{sphereSegments:30},1:{sphereSegments:48},2:{sphereSegments:72}};function L(e,t){var n,i,a=Date.now(),r=0,o=(i=_[t].sphereSegments,new S.p(48,i,i)),s=function(e){var t=new S.p(e.parameters.radius,e.parameters.widthSegments,e.parameters.heightSegments).vertices,n=new Float32Array(3*t.length);t.forEach(function(e,t){e.toArray(n,3*t)});var i=new S.c;i.addAttribute("position",new S.b(n,3)),i.attributes.position.dynamic=!0;var a=new S.m({size:.5,map:(new S.q).load("assets/images/point.png"),alphaTest:.5,color:6710886,transparent:!0});return new S.l(i,a)}(o),c=function(e){var t=new S.j(75,window.innerWidth/window.innerHeight,.1,1e3);return t.position.set(0,e,0),t.lookAt(new S.r(0,0,0)),t}(C),l=function(){var e=window,t=e.innerWidth,n=e.innerHeight,i=new S.s({alpha:!0});return i.setPixelRatio(window.devicePixelRatio),i.setSize(t,n),i.setClearColor(0,0),i}();e.appendChild(l.domElement);var h=new S.n;h.add(s);var u=new S.d;function d(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight),l.render(h,c)}function v(){"hidden"===document.visibilityState?u.stop():u.start()}return window.addEventListener("resize",d),document.addEventListener("visibilitychange",v),{clock:u,sphereGeometry:o,halpern:s,animate:function e(){var t=u.getDelta();s.rotateY(A*t),Date.now()-a>I&&s.rotateX(W*t),(r+=t)>=2*Math.PI&&(r=0),c.translateY(Math.cos(r)*R),c.translateX(Math.cos(r)*R),c.translateZ(Math.cos(r)*R*5),l.render(h,c),n=window.requestAnimationFrame(e)},cleanup:function(){window.cancelAnimationFrame(n),window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",v),e.removeChild(l.domElement),h.remove(s),s.geometry.dispose(),s.material.dispose(),o.dispose()}}}n(40);var H={0:{RIPPLE_SPEED:2},1:{RIPPLE_SPEED:3},2:{RIPPLE_SPEED:4}},N=b(function(e){var t=e.data,n=e.quality,r=Object(i.useRef)(null),o=Object(i.useRef)(),s=Object(i.useRef)(),c=Object(i.useRef)(),l=Object(i.useRef)(),h=Object(i.useRef)(new Array(t.length).fill(128));return Object(i.useEffect)(function(){var e=L(r.current,n);o.current=e;var i=e.halpern.geometry;return c.current=Math.floor(t.length/e.sphereGeometry.parameters.widthSegments),l.current=(e.sphereGeometry.vertices.length-2)/(e.sphereGeometry.parameters.widthSegments-1),s.current=i.attributes.position.array.slice(0),e.clock.start(),e.animate(),e.cleanup},[n]),Object(i.useEffect)(function(){var e=H[n].RIPPLE_SPEED,i=Math.floor(t.length/2);h.current.splice(0,e),h.current=h.current.concat(new Array(e).fill(t[i]));for(var a=o.current.halpern.geometry,r=a.getAttribute("position").array,u=0;u<s.current.length;){var d=Math.ceil(Math.floor(u/3)/l.current),v=d*c.current,f=Math.min(d,l.current-d),m=Math.abs(h.current[v]-128)/255*f*.1+1;r[u]=s.current[u]*m,r[u+1]=s.current[u+1]*m,r[u+2]=s.current[u+2]*m,u+=3}a.getAttribute("position").needsUpdate=!0},[t]),a.a.createElement("div",{className:"halpern",ref:r})});var D="\nattribute float alpha;\nvarying float vAlpha;\n\nvoid main() {\n  vAlpha = alpha;\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_PointSize = 4.0 * alpha;\n  gl_Position = projectionMatrix * mvPosition;\n}\n",F="\nuniform vec3 color;\nvarying float vAlpha;\n\nvoid main() {\n  float r = 0.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n  if (r > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, vAlpha);\n}\n";function z(){var e=Math.random()<.5?"cloud.png":"smoke.png",t=new S.k(50,50),n=new S.i({map:(new S.q).load("assets/images/".concat(e)),transparent:!0,opacity:.15,depthTest:!1});t.rotateZ(360*Math.random());var i=new S.h(t,n),a=15*Math.random()+10;return i.position.set(100*Math.random()-50,100*Math.random()-50,Math.random()<.5?a:-a),i}function U(e,t){return new S.f(e,t)}var B=1,q=.2,V=.75,X=.025,G=.001,Z=50358,Y=13697058,Q={0:{STAR_COUNT:5e3,CLOUD_COUNT:20},1:{STAR_COUNT:1e4,CLOUD_COUNT:40},2:{STAR_COUNT:2e4,CLOUD_COUNT:65}};function K(e,t,n){var i,a=function(){var e=window,t=e.innerWidth,n=e.innerHeight,i=new S.s({antialias:!0});return i.setPixelRatio(window.devicePixelRatio),i.setSize(t,n),i.setClearColor(15,1),i}();e.appendChild(a.domElement);var r=new S.j(50,window.innerWidth/window.innerHeight,1,1e3),o=new S.n,s=function(e){for(var t=new S.c,n=new Float32Array(3*e),i=0;i<e;)n[i++]=100*Math.random()-50,n[i++]=100*Math.random()-50,n[i++]=100*Math.random()-50;t.addAttribute("position",new S.b(n,3));for(var a=new Float32Array(1*t.attributes.position.count),r=0;r<a.length;)a[r]=Math.random(),r+=1;t.addAttribute("alpha",new S.b(a,1));var o=new S.o({uniforms:{color:{type:"c",value:new S.e(16777215)}},vertexShader:D,fragmentShader:F,transparent:!0});return new S.l(t,o)}(Q[t].STAR_COUNT);o.add(s);for(var c=new S.g,l=0;l<=Q[t].CLOUD_COUNT;){var h=z();c.add(h),l+=1}o.add(c);var u,d,v=(u=16777215,d=n,new S.a(u,d));o.add(v);var f=U(Z,2);f.position.set(0,0,1),o.add(f);var m=U(Y,n);m.position.set(0,0,1),o.add(m);for(var w=s.geometry.attributes.alpha,b=new Float32Array(w.count),g=0;g<b.length;g++)b[g]=Math.random()<.5?1:-1;var y=new S.d;function p(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight),a.render(o,r)}function O(){"hidden"===document.visibilityState?y.stop():y.start()}return window.addEventListener("resize",p),document.addEventListener("visibilitychange",O),{clock:y,animate:function e(){var t=y.getDelta();s.rotateX(G*t),s.rotateY(X*t),c.rotateX(24*G*t),c.rotateY(2*X*t),c.rotateZ(3*G*t),c.children.forEach(function(e){e.lookAt(r.position)});for(var n=0;n<w.count;n++)b[n]>0?(w.array[n]*=1+V*t,w.array[n]>B&&(b[n]=-1)):(w.array[n]*=1-V*t,w.array[n]<q&&(b[n]=1));w.needsUpdate=!0,a.render(o,r),i=window.requestAnimationFrame(e)},cleanup:function(){window.cancelAnimationFrame(i),window.removeEventListener("resize",p),document.removeEventListener("visibilitychange",O),e.removeChild(a.domElement),o.remove(s),s.geometry.dispose(),s.material.dispose(),o.remove(c),c.children.forEach(function(e){e.geometry.dispose(),e.material.dispose()})},dLight:m}}n(41);var J=b(function(e){var t=e.data,n=e.intensity,r=e.quality,o=Object(i.useRef)(null),s=Object(i.useRef)(),c=Object(i.useRef)(Date.now());return Object(i.useEffect)(function(){var e=K(o.current,r,1);return s.current=e,e.clock.start(),e.animate(),e.cleanup},[r]),Object(i.useEffect)(function(){var e=Date.now();if(!(e-c.current<=75)){var t=s.current.dLight,i=t.intensity,a=n/2||1;a-i>2.5&&(a=i+2.5),t.intensity=a,c.current=e}},[t]),a.a.createElement("div",{className:"stars",ref:o})}),$=n(3),ee=n(4),te=n(5),ne=n(1),ie=n(8),ae=n(6),re=50,oe=function(){function e(t){Object($.a)(this,e),this.ctx=t,this.canvasWidth=void 0,this.canvasHeight=void 0,this.oneThirdCanvasWidth=void 0,this.oneHalfCanvasHeight=void 0,this.windowFrameThickness=void 0,this.roundedRadius=void 0,this.canvasWidth=t.canvas.width,this.canvasHeight=t.canvas.height,this.oneThirdCanvasWidth=this.canvasWidth/3,this.oneHalfCanvasHeight=this.canvasHeight/2,this.windowFrameThickness=Math.floor(Math.max(this.canvasWidth,this.canvasHeight)/re),this.roundedRadius=Math.floor(this.windowFrameThickness/3),t.save()}return Object(ee.a)(e,[{key:"render",value:function(){this.ctx.restore()}},{key:"tick",value:function(e){}}]),e}();function se(e,t){return(e%t+t)%t}function ce(e){return 0===se(e,1)}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(ce(e)&&ce(t))return e+Math.floor(Math.random()*(t-e));var i=e+Math.random()*(t-e);return Number(i.toPrecision(n))}var he=function(){function e(t){Object($.a)(this,e),this.ctx=void 0,this.canvasHeight=void 0,this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.color=void 0,this.lights=[],this.ctx=t.ctx,this.canvasHeight=t.canvasHeight,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.color=t.color}return Object(ee.a)(e,[{key:"generateLights",value:function(){for(var e=this.canvasHeight,t=this.width,n=this.height,i=le(.01,.025)*n,a=le(.01,.03)*n,r=le(3,10),o=le(.05,.1)*t,s=le(.01,.05)*t,c=(this.width-2*o-s*(r-1))/r,l=[],h=this.x+o,u=this.y+a;u<.98*e;)h>=this.x+this.width-o?(h=this.x+o,u+=i+a):(l.push({x:h,y:u,width:c,height:i,isOn:Math.random()>.4}),h+=c+s);this.lights=l}},{key:"render",value:function(){var e=this.ctx,t=this.x,n=this.y,i=this.width,a=this.height,r=this.color;e.save(),e.fillStyle=r,e.fillRect(t,n,i,a),e.fillStyle="rgb(255, 255, 255)";var o=!0,s=!1,c=void 0;try{for(var l,h=this.lights[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var u=l.value;u.isOn&&e.fillRect(u.x,u.y,u.width,u.height)}}catch(d){s=!0,c=d}finally{try{o||null==h.return||h.return()}finally{if(s)throw c}}e.restore()}}]),e}(),ue=function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).layers=[],n.generateBuildings(),n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"generateBuildings",value:function(){for(var e=this,t=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=le(4,8),r=function(a){for(var r=[],o=0;o<n;){var s=le(.08,.15,2)*n,c=le(.3,.95,2)*i,l=le(.02,.05)*n,h=new he({y:i-c,color:E(),ctx:t,canvasHeight:i,x:o,width:s,height:c});r.push(h),o+=s+l}var u=r[0],d=le(.25*u.width,.75*u.width);r.forEach(function(e){return e.x-=d}),e.layers.push(r)},o=0;o<a;o++)r()}},{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this);for(var e=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=this.layers,r=0;r<a.length;r++){var o=a[r];o.forEach(function(e){return e.generateLights()});var s=!0,c=!1,l=void 0;try{for(var h,u=o[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){h.value.render()}}catch(d){c=!0,l=d}finally{try{s||null==u.return||u.return()}finally{if(c)throw l}}e.fillStyle="rgba(65, 35, 66, 0.6)",e.fillRect(0,0,n,i)}}}]),t}(oe),de=15,ve=function(){function e(t,n,i,a){Object($.a)(this,e),this.x=t,this.y=n,this.ctx=i,this.canvasHeight=a,this.raindropHeight=0,this.createdDate=0,this.raindropHeight=Math.floor(this.canvasHeight/de),this.createdDate=Date.now()}return Object(ee.a)(e,[{key:"tick",value:function(e){var t=e-this.createdDate;this.y=Math.floor(t/400*this.canvasHeight)}},{key:"render",value:function(){var e=this.ctx;e.fillStyle="#788",e.fillRect(this.x,this.y,1,this.raindropHeight)}}]),e}(),fe=function(){function e(t){Object($.a)(this,e),this.ctx=t,this.raindrops=[],this.canvasWidth=0,this.canvasHeight=0,this.canvasWidth=t.canvas.width,this.canvasHeight=t.canvas.height}return Object(ee.a)(e,[{key:"tick",value:function(){var e=[],t=this.raindrops,n=this.canvasHeight,i=Date.now();t.forEach(function(t){t.tick(i),t.y<n&&e.push(t)}),this.raindrops=e}},{key:"add",value:function(){var e=this.raindrops,t=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=Math.floor(Math.random()*(n-1)+1),r=-i/de;e.push(new ve(a,r,t,i))}},{key:"render",value:function(){this.raindrops.forEach(function(e){return e.render()})}}]),e}(),me=function(e){function t(e){return Object($.a)(this,t),Object(te.a)(this,Object(ne.a)(t).call(this,e))}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this);var e=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=this.ctx.createLinearGradient(0,0,0,i);a.addColorStop(0,"#181623"),a.addColorStop(1,"#111019"),e.fillStyle=a,e.fillRect(0,0,n,i)}}]),t}(oe),we={tl:0,tr:0,br:0,bl:0};function be(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:we,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];e.beginPath(),e.moveTo(t+r.tl,n),e.lineTo(t+i-r.tr,n),e.quadraticCurveTo(t+i,n,t+i,n+r.tr),e.lineTo(t+i,n+a-r.br),e.quadraticCurveTo(t+i,n+a,t+i-r.br,n+a),e.lineTo(t+r.bl,n+a),e.quadraticCurveTo(t,n+a,t,n+a-r.bl),e.lineTo(t,n+r.tl),e.quadraticCurveTo(t,n,t+r.tl,n),e.closePath(),e.fill(),o&&e.stroke()}var ge=function(e){function t(e){return Object($.a)(this,t),Object(te.a)(this,Object(ne.a)(t).call(this,e))}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this);var e=this.ctx,n=this.oneThirdCanvasWidth,i=this.oneHalfCanvasHeight,a=this.windowFrameThickness;e.fillStyle="#3D1A1E",e.fillRect(n-a,i/2-a,n+2*a,i+2*a),e.clearRect(n,i/2,n,i);var r=Math.floor(a/2),o=4*n/3-2*r/3,s=5*n/3-r/3,c=i/2-a,l=n-a,h=5*i/6-2*r/3,u=7*i/6-r/3;e.fillRect(o,c,r,i+2*a),e.fillRect(s,c,r,i+2*a),e.fillRect(l,h,n+2*a,r),e.fillRect(l,u,n+2*a,r),e.fillStyle="#682634",e.fillRect(n-2*a,i/2-2*a,n+4*a,a-1),be(e,n-2*a,3*i/2+a+1,n+4*a,a,{tl:0,tr:0,bl:this.roundedRadius,br:this.roundedRadius}),e.lineWidth=2,e.strokeStyle="#682634",e.rect(n-2*a/3,i/2-2*a/3,n+4*a/3,i+4*a/3),e.stroke(),e.rect(n-5*a/9,i/2-5*a/9,n+10*a/9,i+10*a/9),e.stroke()}}]),t}(oe),ye=function(e){function t(e){return Object($.a)(this,t),Object(te.a)(this,Object(ne.a)(t).call(this,e))}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"dresser",value:function(){var e=this.ctx,t=this.canvasWidth,n=this.canvasHeight,i=this.windowFrameThickness,a=2*t/3+5*i,r=2*n/3;e.fillStyle="#122C2B",e.fillRect(a,r,t,n),e.strokeStyle="#091c1b",e.lineWidth=3,e.beginPath(),e.rect(a+i,r+i,t,n),e.stroke();var o=a+i+3*(t-(a+i))/5;e.beginPath(),e.moveTo(o,r+2.5*i),e.lineTo(t,r+2.5*i),e.lineWidth=2*i/3,e.stroke(),e.beginPath(),e.moveTo(a+i,r+6*i),e.lineTo(t,r+6*i),e.lineWidth=2,e.stroke(),e.beginPath(),e.moveTo(o,r+7.5*i),e.lineTo(t,r+7.5*i),e.lineWidth=2*i/3,e.stroke()}},{key:"stereo",value:function(){var e=this.ctx,t=this.canvasWidth,n=this.canvasHeight,i=this.windowFrameThickness,a=3.5*i,r=.2*n,o=2*t/3+5*i+4*i,s=2*n/3-r;e.fillStyle="#222",e.fillRect(o,s,a,r);var c=Math.min(a,r)/8,l=o+a/2,h=s+2*c;e.fillStyle="#111",e.beginPath(),e.arc(l,h,c,0,2*Math.PI),e.fill();var u=i/10;e.fillStyle="#111",e.fillRect(o-u,s,u,r),e.fillRect(o+a,s,u,r);var d=o+a+u,v=.8*r,f=s+r-v;e.fillStyle="#222",e.fillRect(d,f,t,v);var m=d+i/2;e.fillStyle="#444",e.strokeStyle="#111",e.lineWidth=i/8,e.beginPath(),e.rect(m,f+1.5*i,t,.25*v),e.fill(),e.stroke(),e.fillStyle="#111",e.fillRect(m,f+i,t,i/4);var w=f+v-.8*i;e.fillRect(d+2*i,w,t,i/4),e.fillStyle="#444";var b=i/2,g=d+i,y=w+i/8;e.beginPath(),e.arc(g,y,b,0,2*Math.PI),e.fill(),e.clip(),e.save(),e.translate(g,y);var p=.75*Math.PI,O={x:Math.sin(p)*(b-i/4),y:Math.cos(p)*(b-i/4)},E={x:Math.sin(p)*b*2,y:Math.cos(p)*b*2};e.lineWidth=i/8,e.lineCap="round",e.beginPath(),e.moveTo(O.x,O.y),e.lineTo(E.x,E.y),e.stroke(),e.restore(),e.restore()}},{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this),this.dresser(),this.stereo(),this.tick()}},{key:"tick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.ctx,n=this.canvasWidth,i=this.canvasHeight,a=this.windowFrameThickness,r=3.5*a,o=.2*i,s=2*n/3+5*a+4*a,c=2*i/3-o,l=Math.min(r,o)/8,h=s+r/2,u=Math.min(r,o)/2.5,d=Math.max(c+u+4*l,c+o-(u+2*l));t.strokeStyle="#444",t.fillStyle="#222",t.lineWidth=a/8,t.beginPath(),t.arc(h,d,u,0,2*Math.PI),t.fill(),t.stroke(),t.fillStyle="#111",t.beginPath(),t.arc(h,d,e?.63*u:.6*u,0,2*Math.PI),t.fill()}}]),t}(oe),pe=n(7),Oe=function(e){function t(e){var n;Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).pictures=[];var i=Object(pe.a)(Object(pe.a)(n)),a=i.oneThirdCanvasWidth,r=i.windowFrameThickness;return n.pictures.push({x:3*a/4-4*r,y:-r,width:4*r,height:5*r}),n.pictures.push({x:n.pictures[0].x-7*r,y:2*r,width:5*r,height:4*r}),n.pictures.push({x:n.pictures[1].x+2*r,y:n.pictures[1].y+n.pictures[1].height+1.5*r,width:6*r,height:8*r}),n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"graph",value:function(){var e=this.ctx,t=this.windowFrameThickness,n=this.pictures[0],i=n.x,a=n.y,r=n.width,o=n.height;e.save(),e.beginPath(),e.rect(i,a,r,o),e.clip();var s=e.createLinearGradient(i,a,i,a+o);s.addColorStop(0,"#24131f"),s.addColorStop(1,"#051b1f"),e.fillStyle=s,e.fill();for(var c=[],l=t/6,h=0;h<20;h++)c.push({x:Math.floor(Math.random()*r+i),y:Math.floor(Math.random()*o+a)});var u,d;for(e.fillStyle="#703c3a",e.strokeStyle="#703c3a",e.lineWidth=1;c.length;){var v=c.pop();e.beginPath(),e.arc(v.x,v.y,l/2,0,2*Math.PI),e.fill();for(var f=0;f<c.length;f++){var m=c[f];u=v,d=m,Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2))<o/4&&(e.beginPath(),e.moveTo(v.x,v.y),e.lineTo(m.x,m.y),e.stroke())}}e.strokeStyle="#122C2B",e.lineWidth=t/1.5,e.beginPath(),e.rect(i,a,r,o),e.stroke(),e.restore()}},{key:"orbits",value:function(){var e=this.ctx,t=this.windowFrameThickness,n=this.pictures[1],i=n.x,a=n.y,r=n.width,o=n.height;e.save(),e.beginPath(),e.rect(i,a,r,o),e.clip();var s=e.createLinearGradient(i,a,i,a+o);s.addColorStop(0,"#556e53"),s.addColorStop(1,"#29435c"),e.fillStyle=s,e.fill();e.fillStyle="#879591",e.strokeStyle="#879591",e.beginPath(),e.arc(i+r/2,a+o/2,o/14,0,2*Math.PI),e.fill();for(var c=Math.floor(o/6);c<=o/2;c+=t/4){e.beginPath(),e.arc(i+r/2,a+o/2,c,0,2*Math.PI),e.stroke();var l=Math.random()*Math.PI*2,h=i+r/2+Math.cos(l)*c,u=a+o/2+Math.sin(l)*c,d=Math.random()*(r/64)+r/192;e.beginPath(),e.arc(h,u,d,0,2*Math.PI),e.fill()}e.strokeStyle="#152a38",e.lineWidth=t/1.2,e.beginPath(),e.rect(i,a,r,o),e.stroke(),e.restore()}},{key:"stars",value:function(){var e=this.ctx,t=this.windowFrameThickness,n=this.pictures[2],i=n.x,a=n.y,r=n.width,o=n.height;e.save(),e.beginPath(),e.rect(i,a,r,o),e.clip();var s=e.createLinearGradient(i,a,i,a+o);s.addColorStop(0,"#09325E"),s.addColorStop(.75,"#2A2A47"),e.fillStyle=s,e.fill(),e.fillStyle="#F5E7F8";for(var c=0;c<60;c++){var l=Math.floor(Math.random()*r+i),h=Math.floor(Math.random()*o+a),u=Math.floor(2*Math.random()+1);e.beginPath(),e.arc(l,h,u,0,2*Math.PI),e.fill()}e.strokeStyle="#0D0B21",e.lineWidth=t/1.5,e.beginPath(),e.rect(i,a,r,o),e.stroke(),e.restore()}},{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this),this.graph(),this.orbits(),this.stars()}}]),t}(oe),Ee=["#564837","#713C3A"],ke=function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).y=void 0,n.y=.7*n.canvasHeight,n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"top",value:function(){var e=this.ctx,t=this.y,n=this.windowFrameThickness,i=.7*this.oneThirdCanvasWidth,a=1.35*n,r={tl:0,tr:this.roundedRadius,br:0,bl:0};e.fillStyle="#122C2B",be(e,0,t,i,a,r),e.fillStyle="#06151A",e.beginPath(),e.rect(0,t+a-n/4,i,n/4),e.fill()}},{key:"leg",value:function(){var e=this.ctx,t=this.y,n=this.windowFrameThickness,i=this.canvasHeight,a=this.oneThirdCanvasWidth;e.strokeStyle="#122C2B",e.lineWidth=1.5*n,e.beginPath(),e.moveTo(.5*a,t),e.lineTo(.5*a,i),e.stroke()}},{key:"centerpiece",value:function(){for(var e=this.ctx,t=this.y,n=this.windowFrameThickness,i=this.canvasWidth,a=this.oneThirdCanvasWidth,r=.25*a,o=.3*a,s=2*n,c=[{xOffset:(o-.4*o)/4,y:t-s,radius:.2*o,color:Ee[0],stemAngle:.9*Math.PI},{xOffset:-(o-.4*o)/4,y:t-s+s/8,radius:.2*o,color:Ee[1],stemAngle:1.1*Math.PI}],l=0;l<c.length;l++){var h=c[l];e.fillStyle=h.color,e.beginPath(),e.arc(r+h.xOffset,h.y,h.radius,0,2*Math.PI),e.fill()}e.strokeStyle="#04070F",e.lineCap="round",e.lineWidth=2;for(var u=0;u<c.length;u++){var d=c[u];e.save(),e.translate(r+d.xOffset,d.y);var v={x:Math.sin(d.stemAngle)*c[1].radius*.9,y:Math.cos(d.stemAngle)*c[1].radius*.9},f={x:Math.sin(d.stemAngle)*c[1].radius*1.1,y:Math.cos(d.stemAngle)*c[1].radius*1.1};e.beginPath(),e.moveTo(v.x,v.y),e.lineTo(f.x,f.y),e.stroke(),e.restore()}var m={tl:0,tr:0,br:.1*a,bl:.1*a},w=s/8,b=.5*o;e.fillStyle="#1e1e1e",e.fillRect(r-b/2,t-s-w,b,s+w),e.fillStyle="#3e3e3e",be(e,r-o/2,t-s-w,o,s,m),e.save(),e.clip(),e.lineWidth=2,e.strokeStyle="#06151A";var g=t-s-w+s/6;e.beginPath(),e.moveTo(0,g),e.lineTo(i,g),e.stroke(),e.restore()}},{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this),this.leg(),this.top(),this.centerpiece()}}]),t}(oe),Te=function(e){function t(e){var n;Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).clockSize=void 0,n.clockCoords=void 0,n.clockSize=5*n.windowFrameThickness;var i=Math.max(.7*n.canvasWidth,2*n.canvasWidth/3+8*n.windowFrameThickness),a=n.canvasHeight/5;return n.clockCoords={x:i,y:a},n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"face",value:function(){var e=this.ctx,t=this.clockSize,n=this.clockCoords,i=n.x,a=n.y;e.strokeStyle="#122C2B",e.lineWidth=this.windowFrameThickness/2,e.beginPath(),e.arc(i,a,t/1.75,0,2*Math.PI,!0),e.stroke(),e.strokeStyle="#06151A",e.beginPath(),e.arc(i,a,t/2,0,2*Math.PI,!0),e.stroke(),e.beginPath(),e.arc(i,a,t/2,0,2*Math.PI,!0),e.fillStyle="#4B4721",e.fill(),e.lineWidth=2,e.strokeStyle="#192124",e.save(),e.translate(i,a);for(var r=1;r<=60;r++){var o=r*Math.PI/30,s={x:Math.sin(o)*(t/2-t/20),y:Math.cos(o)*(t/2-t/20)},c={x:Math.sin(o)*(t/2-t/15),y:Math.cos(o)*(t/2-t/15)};e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(c.x,c.y),e.stroke()}e.restore()}},{key:"hands",value:function(){var e=this.ctx,t=this.clockSize,n=this.clockCoords,i=n.x,a=n.y;e.beginPath(),e.arc(i,a,t/2-t/15,0,2*Math.PI,!0),e.fillStyle="#4B4721",e.fill(),e.lineWidth=t/40,e.lineCap="round",e.strokeStyle="#192124",e.save(),e.translate(i,a);var r=new Date,o=r.getHours(),s=r.getMinutes(),c=r.getSeconds();e.save(),e.rotate(Math.PI/6*(o+s/60+c/3600)),e.beginPath(),e.moveTo(0,10),e.lineTo(0,-t/4),e.stroke(),e.restore(),e.save(),e.rotate(Math.PI/30*(s+c/60)),e.beginPath(),e.moveTo(0,10),e.lineTo(0,-t/2.75),e.stroke(),e.restore(),e.lineWidth=t/100,e.save(),e.rotate(Math.PI/30*c),e.beginPath(),e.moveTo(0,10),e.lineTo(0,-t/2.7),e.stroke(),e.restore(),e.restore()}},{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this),this.face(),this.hands()}},{key:"tick",value:function(){this.hands()}}]),t}(oe),je=function(e){function t(e){var n;Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).isWagging=!1,n.prevTailAngle=-Math.PI/2,n.headRadius=void 0,n.bodyHeight=void 0,n.bodyWidth=void 0,n.x=void 0,n.createdTimestamp=void 0,n.tailWidth=void 0,n.tailY=void 0;var i=Object(pe.a)(Object(pe.a)(n)),a=i.windowFrameThickness,r=i.oneThirdCanvasWidth,o=i.oneHalfCanvasHeight;return n.x=2*r-1.2*a,n.headRadius=a,n.bodyHeight=3*a,n.bodyWidth=2.2*a,n.createdTimestamp=Date.now(),n.tailWidth=a/2,n.tailY=3*o/2+a-n.tailWidth/2,n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"head",value:function(){var e=this.ctx,t=this.oneHalfCanvasHeight,n=this.x,i=this.headRadius,a=3*t/2-this.bodyHeight-this.headRadius;e.fillStyle="#000",e.strokeStyle="#000",e.beginPath(),e.arc(n,a,i,0,2*Math.PI),e.fill(),e.save(),e.translate(n,a),e.lineWidth=5,e.lineJoin="round";var r={start:{x:Math.sin(.85*Math.PI)*i,y:Math.cos(.85*Math.PI)*i},point:{x:Math.sin(.8*Math.PI)*i*1.4,y:Math.cos(.8*Math.PI)*i*1.4},end:{x:Math.sin(.7*Math.PI)*i,y:Math.cos(.7*Math.PI)*i}};e.beginPath(),e.moveTo(r.start.x,r.start.y),e.lineTo(r.point.x,r.point.y),e.lineTo(r.end.x,r.end.y),e.closePath(),e.fill(),e.stroke();var o={start:{x:Math.sin(1.2*Math.PI)*i,y:Math.cos(1.2*Math.PI)*i},point:{x:Math.sin(1.22*Math.PI)*i*1.5,y:Math.cos(1.22*Math.PI)*i*1.5},end:{x:Math.sin(1.3*Math.PI)*i,y:Math.cos(1.3*Math.PI)*i}};e.beginPath(),e.moveTo(o.start.x,o.start.y),e.lineTo(o.point.x,o.point.y),e.lineTo(o.end.x,o.end.y),e.closePath(),e.fill(),e.stroke(),e.restore()}},{key:"body",value:function(){var e=this.ctx,t=this.oneHalfCanvasHeight,n=this.windowFrameThickness,i=this.x,a=this.headRadius,r=this.bodyWidth,o=this.bodyHeight,s=3*t/2-o;e.beginPath(),e.moveTo(i,s-a/2),e.quadraticCurveTo(i-.75*r,s+o/4,i-r/3,s+o+n),e.lineTo(i+r/2,s+o+n),e.quadraticCurveTo(i+1.2*r,s+o+n,i+r/3,s-a/3),e.closePath(),e.fill(),e.beginPath(),e.moveTo(i-r/4,s+.3*o),e.quadraticCurveTo(i-r,s+o,i-r/3,s+o+n),e.lineTo(i+r/2,s+o+n),e.closePath(),e.fill()}},{key:"tail",value:function(){var e=this.ctx,t=this.tailWidth,n=this.x,i=this.bodyWidth,a=this.tailY;e.lineWidth=t,e.lineCap="round",e.beginPath(),e.moveTo(n,a),e.lineTo(n-i,a),e.stroke()}},{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this);var e=this.ctx,n=this.canvasWidth,i=this.canvasHeight;e.clearRect(0,0,n,i),this.head(),this.body(),this.tail()}},{key:"tick",value:function(){var e=this.ctx,t=this.canvasWidth,n=this.canvasHeight,i=this.createdTimestamp,a=this.x,r=this.bodyWidth,o=this.tailY;e.clearRect(0,0,t,n),this.head(),this.body();var s=Date.now()-i,c=-Math.PI/2+Math.sin(s/200)*-Math.PI/20;if(this.prevTailAngle>-Math.PI/2&&c<-Math.PI/2&&(this.isWagging=Math.random()<.1),this.prevTailAngle=c,c>-Math.PI/2&&(c=-Math.PI/2),this.isWagging){e.save(),e.translate(a,o);var l={x:Math.sin(c)*r,y:Math.cos(c)*r};e.beginPath(),e.moveTo(0,0),e.quadraticCurveTo(-r,-Math.cos(c)*r/10,l.x,l.y),e.stroke(),e.restore()}else this.tail()}}]),t}(oe),xe=function(e){function t(e){var n;Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).stemX=void 0,n.stemHeight=void 0,n.lampWidth=void 0,n.shadeTopLeft=void 0,n.shadeTopRight=void 0,n.shadeBottomRight=void 0,n.shadeBottomLeft=void 0;var i=Object(pe.a)(Object(pe.a)(n)),a=i.canvasWidth,r=i.canvasHeight,o=i.windowFrameThickness;return n.stemX=7*a/11,n.stemHeight=r/5,n.lampWidth=3.5*o,n.shadeTopLeft={x:n.stemX-o/5,y:n.stemHeight+o},n.shadeTopRight={x:n.stemX+o/5,y:n.stemHeight+o},n.shadeBottomRight={x:n.stemX+n.lampWidth/2,y:n.stemHeight+3*o},n.shadeBottomLeft={x:n.stemX-n.lampWidth/2,y:n.stemHeight+3*o},n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"stem",value:function(){var e=this.ctx,t=this.windowFrameThickness,n=this.stemX,i=this.stemHeight;e.strokeStyle="#8e8e8e",e.fillStyle="#8e8e8e",e.lineWidth=t/5,e.beginPath(),e.moveTo(n,0),e.lineTo(n,i),e.stroke(),e.lineWidth=1,e.fillRect(n-t/5,i-1,2*t/5,t),e.stroke()}},{key:"lampshade",value:function(){var e=this.ctx,t=this.shadeTopLeft,n=this.shadeTopRight,i=this.shadeBottomRight,a=this.shadeBottomLeft;e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineTo(i.x,i.y),e.lineTo(a.x,a.y),e.closePath(),e.fill(),e.stroke()}},{key:"light",value:function(){var e=this.ctx,t=this.canvasHeight,n=this.windowFrameThickness,i=this.stemX,a=this.stemHeight,r=this.lampWidth,o=this.shadeTopLeft,s=this.shadeBottomRight,c=this.shadeBottomLeft;e.fillStyle="rgba(252, 243, 126, 0.085)";var l=t-c.y,h=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.atan2(i,n)}(c,{x:o.x,y:c.y+c.y-o.y}),u=l/Math.tan(h),d=c.x-u,v=s.x+u;e.beginPath(),e.moveTo(i-r/2,a+3*n),e.lineTo(i+r/2,a+3*n),e.lineTo(v,t),e.lineTo(d,t),e.fill()}},{key:"render",value:function(){Object(ie.a)(Object(ne.a)(t.prototype),"render",this).call(this),this.stem(),this.lampshade(),this.tick()}},{key:"tick",value:function(){var e=this.ctx,t=this.canvasWidth,n=this.canvasHeight,i=this.windowFrameThickness,a=this.stemHeight;e.clearRect(0,a+3*i,t,n),this.light()}}]),t}(oe),Me=function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).wall=void 0,n.window=void 0,n.dresser=void 0,n.pictures=void 0,n.table=void 0,n.clock=void 0,n.wall=new me(e),n.window=new ge(e),n.dresser=new ye(e),n.pictures=new Oe(e),n.table=new ke(e),n.clock=new Te(e),n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){this.wall.render(),this.window.render(),this.dresser.render(),this.pictures.render(),this.table.render(),this.clock.render()}}]),t}(oe),Pe=(n(42),{0:{MAX_RAINDROPS_PER_TICK:10},1:{MAX_RAINDROPS_PER_TICK:33},2:{MAX_RAINDROPS_PER_TICK:100}}),Se=b(function(e){var t=e.data,n=e.isBeat,r=e.lowPassIntensity,o=e.quality,s=Object(i.useRef)(null),c=Object(i.useRef)();Object(i.useEffect)(function(){var e=s.current,t=function(){var t=window;!function(t,n,i){e.width=t*i,e.height=n*i;var a=e.getContext("2d"),r=new ue(a);c.current=r,r.render()}(t.innerWidth,t.innerHeight,t.devicePixelRatio)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]);var l=Object(i.useRef)(null),h=Object(i.useRef)();Object(i.useEffect)(function(){var e=l.current,t=function(){var t=window;!function(t,n,i){e.width=t*i,e.height=n*i;var a=e.getContext("2d"),r=h.current;null==r?h.current=new fe(a):((r=h.current).canvasWidth=t,r.canvasHeight=n)}(t.innerWidth,t.innerHeight,t.devicePixelRatio)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]);var u=Object(i.useRef)(null),d=Object(i.useRef)();Object(i.useEffect)(function(){var e,t=u.current,n=function(){var n=window;!function(n,i,a){t.width=n*a,t.height=i*a;var r=t.getContext("2d"),o=new Me(r);d.current=o,o.render(),e&&window.clearTimeout(e),e=window.setInterval(function(){return o.clock.tick()},1e3)}(n.innerWidth,n.innerHeight,n.devicePixelRatio)};return n(),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}},[]);var v=Object(i.useRef)(null),f=Object(i.useRef)();Object(i.useEffect)(function(){var e=v.current,t=function(){var t=window;!function(t,n,i){e.width=t*i,e.height=n*i;var a=e.getContext("2d"),r=new je(a);f.current=r,r.render()}(t.innerWidth,t.innerHeight,t.devicePixelRatio)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]);var m=Object(i.useRef)(null),w=Object(i.useRef)();return Object(i.useEffect)(function(){var e=m.current,t=function(){var t=window;!function(t,n,i){e.width=t*i,e.height=n*i;var a=e.getContext("2d"),r=new xe(a);w.current=r,r.render()}(t.innerWidth,t.innerHeight,t.devicePixelRatio)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]),Object(i.useEffect)(function(){var e=d.current,t=h.current,i=f.current,a=w.current,s=0,c=Math.floor(r/Math.max(1,4-o));for(c<1?c=1:c>Pe[o].MAX_RAINDROPS_PER_TICK&&(c=Pe[o].MAX_RAINDROPS_PER_TICK);s<c;)t.add(),s+=1;t.tick(),e.dresser.tick(n),a.tick(),i.tick();var u=l.current;u.getContext("2d").clearRect(0,0,u.width,u.height),t.render()},[t,n]),a.a.createElement("div",{className:"rain"},a.a.createElement("div",{className:"backdrop"}),a.a.createElement("canvas",{ref:s}),a.a.createElement("canvas",{ref:l}),a.a.createElement("canvas",{ref:u}),a.a.createElement("canvas",{ref:v}),a.a.createElement("canvas",{ref:m}))}),Ie=(n(43),b(function(){return a.a.createElement("div",{className:"mobile-disabled"},a.a.createElement("div",{className:"content"},a.a.createElement("img",{id:"desktop-icon",src:"/late/assets/images/desktop.png"}),a.a.createElement("div",{id:"message"},"Sorry, this visualization cannot be viewed on a mobile device.")))}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[{component:Se},{component:J,options:{smoothing:128}},{component:T},{component:P,options:{smoothing:64}},{component:N}]),Ce=Ie.map(function(e){return function(t){t.style;var n=Object(f.a)(t,["style"]);return a.a.createElement(m.a.div,{className:"visualization",style:t.style},a.a.createElement(e.component,Object.assign({},n,{options:e.options})))}}),Re=Object(s.b)(function(e){return{currentIndex:e.currentVisualizationIndex,prevIndex:e.prevVisualizationIndex,quality:e.quality}},null)(function(e){var t=e.data,n=e.lowPassData,r=e.prevIndex,o=e.currentIndex,s=e.quality,c=se(o,Ie.length),l=Object(i.useCallback)(function(e,t){var n=0;return e<t?n=1:t<e&&(n=-1),"translate3d(".concat(100*n,"%, 0, 0)")},[]),h=Object(m.d)(c,null,{from:{transform:l(o,r)},enter:{transform:l()},leave:{transform:l(r,o)},initial:{transform:l(0,-1)}});return a.a.createElement(a.a.Fragment,null,h.map(function(e){var i=e.item,r=e.props,o=e.key,c=Ce[i];return a.a.createElement(c,{key:o,data:t,lowPassData:n,quality:s,style:r})}))}),Ae=function(e){var t=e.context,n=e.source,r=Object(i.useState)(new Uint8Array),o=Object(v.a)(r,2),s=o[0],c=o[1],l=Object(i.useState)(new Uint8Array),h=Object(v.a)(l,2),u=h[0],d=h[1],f=Object(i.useRef)();return Object(i.useEffect)(function(){var e=t.createAnalyser();e.fftSize=512,e.smoothingTimeConstant=0,n.connect(e),e.connect(t.destination);var i=t.createBiquadFilter();i.type="lowpass";var a=t.createAnalyser();return a.fftSize=512,a.smoothingTimeConstant=0,n.connect(i),i.connect(a),f.current=window.requestAnimationFrame(function t(){var n=new Uint8Array(512);e.getByteTimeDomainData(n),c(n);var i=new Uint8Array(512);a.getByteTimeDomainData(i),d(i),f.current=window.requestAnimationFrame(t)}),function(){null!=f.current&&window.cancelAnimationFrame(f.current),e&&e.disconnect(),a&&a.disconnect(),n&&n.disconnect()}},[t,n]),a.a.createElement(Re,{data:s,lowPassData:u})},We=(n(44),function(e){var t=e.show;return a.a.createElement("div",{className:x()("loading",{show:!1!==t})},a.a.createElement("span",{className:"loading-dot"}),a.a.createElement("span",{className:"loading-dot"}),a.a.createElement("span",{className:"loading-dot"}))}),_e=n(27),Le=(n(45),[{label:"low",value:0},{label:"medium",value:1},{label:"high",value:2}]),He=Object(s.b)(function(e){return{quality:e.quality}},function(e){return{setQuality:function(t){return e(function(e){return{type:c.SET_QUALITY,quality:e}}(t))}}})(function(e){var t=e.quality,n=e.setQuality,i=e.onHover,r=e.onHoverStop;return a.a.createElement("div",{id:"quality",onMouseEnter:i,onMouseLeave:r},a.a.createElement("select",{value:t,onChange:function(e){return n(+e.target.value)}},Le.map(function(e){return a.a.createElement("option",{key:e.label,value:e.value},e.label)})))}),Ne=(n(46),Object(s.b)(null,function(e){return{goToNextVisualization:function(){return e({type:c.GO_TO_NEXT_VISUALIZATION})},goToPrevVisualization:function(){return e({type:c.GO_TO_PREV_VISUALIZATION})}}})(function(e){var t=Object(i.useState)(!1),n=Object(v.a)(t,2),r=n[0],o=n[1],s=Object(i.useState)(!1),c=Object(v.a)(s,2),l=c[0],h=c[1],u=Object(i.useRef)(),d=Object(i.useRef)();Object(i.useEffect)(function(){var t=function(t){switch(t.which){case 37:case 38:e.goToPrevVisualization();break;case 39:case 40:e.goToNextVisualization()}};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}},[]);var f=Object(i.useCallback)(function(){null!=u.current&&window.clearTimeout(u.current),o(!0),u.current=window.setTimeout(function(){l||o(!1)},1500)},[l]),m=Object(i.useCallback)(function(){e.context&&e.context.resume(),e.togglePlay(),f()},[e.context,e.togglePlay]),w=Object(i.useCallback)(function(e){e.preventDefault(),d.current=Date.now()},[]),b=function(){return window.open("https://github.com/blackwright/late")},g=Object(i.useCallback)(function(e){1===e.nativeEvent.which&&(d.current=Date.now())},[]),y=Object(i.useCallback)(function(e){1===e.nativeEvent.which&&d.current&&Date.now()-d.current<250&&m()},[]),p=Object(i.useCallback)(function(e){e.preventDefault(),d.current&&Date.now()-d.current<250&&f()},[l]),O=Object(i.useCallback)(function(t){t.stopPropagation(),e.goToPrevVisualization(),f()},[l]),E=Object(i.useCallback)(function(t){t.stopPropagation(),e.goToNextVisualization(),f()},[l]),k=Object(i.useCallback)(function(e){e.stopPropagation()},[]),T=Object(i.useCallback)(function(){return h(!0)},[]),j=Object(i.useCallback)(function(){return h(!1)},[]),M=e.wantsToPlay,P=e.isPlaying;return a.a.createElement(a.a.Fragment,null,M&&!P&&a.a.createElement(We,null),a.a.createElement("div",{id:"overlay",onTouchStart:w,onTouchEnd:p,onMouseMove:f,className:x()({show:r})},a.a.createElement("h1",{id:"title",onClick:b,onTouchEnd:b,onMouseEnter:T,onMouseLeave:j},"LATE"),a.a.createElement(He,{onHover:T,onHoverStop:j}),a.a.createElement("div",{id:"version"},"build ",_e.a),a.a.createElement("div",{onMouseDown:g,onMouseUp:y,onTouchEnd:m,onMouseEnter:T,onMouseLeave:j,className:x()({play:!M&&!P,pause:M&&P})}),a.a.createElement("div",{className:"navigation"},a.a.createElement("div",{className:"arrow-container",onClick:O,onTouchStart:O,onMouseUp:k,onMouseEnter:T,onMouseLeave:j},a.a.createElement("svg",{className:"arrow",width:"60px",height:"80px",viewBox:"0 0 50 80"},a.a.createElement("polyline",{fill:"none",stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"45.63,75.8 0.375,38.087 45.63,0.375"}))),a.a.createElement("div",{className:"arrow-container",onClick:E,onTouchStart:E,onMouseUp:k,onMouseEnter:T,onMouseLeave:j},a.a.createElement("svg",{className:"arrow",width:"60px",height:"80px",viewBox:"0 0 50 80"},a.a.createElement("polyline",{fill:"none",stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:"0.375,0.375 45.63,38.087 0.375,75.8"}))))))})),De=(n(47),function(){return a.a.createElement("div",{id:"no-web-audio"},a.a.createElement("p",null,"Your device doesn't fully support the Web Audio API."),a.a.createElement("p",null,"This site should be viewed on a non-mobile or Android device."))});var Fe=function(e){var t=Object(i.useState)(!1),n=Object(v.a)(t,2),r=n[0],o=n[1],s=Object(i.useState)(!1),c=Object(v.a)(s,2),l=c[0],h=c[1],u=function(e){var t=Object(i.useState)(e),n=Object(v.a)(t,2),a=n[0],r=n[1],o=Object(i.useRef)(a);return Object(i.useEffect)(function(){o.current=a},[a]),[a,r,o]}(void 0),d=Object(v.a)(u,3),f=d[0],m=d[1],w=d[2],b=Object(i.useState)(),g=Object(v.a)(b,2),y=g[0],p=g[1],O=Object(i.useState)(!1),E=Object(v.a)(O,2),k=E[0],T=E[1],j=Object(i.useRef)(null);Object(i.useEffect)(function(){try{new window.AudioContext}catch(e){T(!0)}},[]),Object(i.useEffect)(function(){var e=j.current,t=function(){return h(!0)},n=function(){return h(!1)},i=console.error;return e.addEventListener("playing",t),e.addEventListener("pause",n),e.addEventListener("error",i),function(){e.removeEventListener("playing",t),e.removeEventListener("pause",n),e.removeEventListener("error",i)}},[]);var x=Object(i.useCallback)(function(){var e=j.current,t=new window.AudioContext,n=t.createMediaElementSource(e);m(t),p(n)},[j.current]),M=Object(i.useCallback)(function(){var e=j.current;e.paused?(o(!0),e.play(),w.current||x()):(o(!1),e.pause())},[j.current]);return k?a.a.createElement(De,null):a.a.createElement(a.a.Fragment,null,a.a.createElement("audio",{ref:j,id:"audioElement",src:"http://snds.blackwright.com",preload:"auto",crossOrigin:"anonymous"}),f&&y&&a.a.createElement(Ae,{context:f,source:y}),a.a.createElement(Ne,{context:f,wantsToPlay:r,isPlaying:l,togglePlay:M}))};n(48),n(49);o.a.render(a.a.createElement(s.a,{store:d},a.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.d2cf7bfe.chunk.js.map